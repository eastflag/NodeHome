angular.module("app",["ngRoute"]),angular.module("app").controller("MainCtrl",["$scope",function(e){}]),angular.module("app").controller("PointCtrl",["$scope","PointSvc",function(e,t){e.pointList=[],e.travelList=[],e.locationList=[],e.getRankingList=function(){t.getRankingList().success(function(t){e.pointList=t.data})},e.getRankingList(),e.viewTravel=function(o){console.log("viewTravel"),t.getTravelList({userId:o}).success(function(t){e.travelList=t.data})},e.viewMap=function(o){console.log("travelId:"+o),t.getLocationList({travelId:o}).success(function(t){var o=t.data,i=new google.maps.LatLng(o[0].lat,o[0].lng),a=new google.maps.LatLng(o[o.length-1].lat,o[o.length-1].lng),n={zoom:14,center:a,mapTypeId:google.maps.MapTypeId.TERRAIN};e.map=new google.maps.Map(document.getElementById("map"),n);var r=new google.maps.Marker({position:i}),l=new google.maps.Marker({position:a,animation:google.maps.Animation.BOUNCE});r.setMap(e.map),l.setMap(e.map);for(var u=[],s=0;s<o.length;++s)u[s]={lat:o[s].lat,lng:o[s].lng};var c=new google.maps.Polyline({path:u,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:3});c.setMap(e.map)})}}]),angular.module("app").service("PointSvc",["$http",function(e){this.getRankingList=function(){return e.post("/api/lol/point/getRankingList")},this.getTravelList=function(t){return e.post("/api/lol/travel/getlist",t)},this.getLocationList=function(t){return e.post("/api/lol/location/getlist",t)}}]),angular.module("app").controller("ResidenceCtrl",["$scope","ResidenceSvc",function(e,t){e.getTraffic=function(){t.getTraffic().success(function(e){for(var t=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],i=0;i<t.length;++i)"1"==t[i]._id.value?o[0].value=t[i].count:"2"==t[i]._id.value?o[1].value=t[i].count:"3"==t[i]._id.value?o[2].value=t[i].count:"4"==t[i]._id.value?o[3].value=t[i].count:"5"==t[i]._id.value&&(o[4].value=t[i].count);Morris.Bar({element:"morris-traffic-chart",data:o,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getCommercial=function(){t.getCommercial().success(function(e){for(var t=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],i=0;i<t.length;++i)"1"==t[i]._id.value?o[0].value=t[i].count:"2"==t[i]._id.value?o[1].value=t[i].count:"3"==t[i]._id.value?o[2].value=t[i].count:"4"==t[i]._id.value?o[3].value=t[i].count:"5"==t[i]._id.value&&(o[4].value=t[i].count);Morris.Bar({element:"morris-commercial-chart",data:o,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getLeisure=function(){t.getLeisure().success(function(e){for(var t=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],i=0;i<t.length;++i)"1"==t[i]._id.value?o[0].value=t[i].count:"2"==t[i]._id.value?o[1].value=t[i].count:"3"==t[i]._id.value?o[2].value=t[i].count:"4"==t[i]._id.value?o[3].value=t[i].count:"5"==t[i]._id.value&&(o[4].value=t[i].count);Morris.Bar({element:"morris-leisure-chart",data:o,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getGreen=function(){t.getGreen().success(function(e){for(var t=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],i=0;i<t.length;++i)"1"==t[i]._id.value?o[0].value=t[i].count:"2"==t[i]._id.value?o[1].value=t[i].count:"3"==t[i]._id.value?o[2].value=t[i].count:"4"==t[i]._id.value?o[3].value=t[i].count:"5"==t[i]._id.value&&(o[4].value=t[i].count);Morris.Bar({element:"morris-green-chart",data:o,xkey:"period",ykeys:["value"],labels:["녹지 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getArea=function(){t.getArea().success(function(e){for(var t=e.data,o=[{period:"49.5m2이하",value:0},{period:"49.58~59.4m2",value:0},{period:"59.5~79.32m2",value:0},{period:"79.33~105.78m2",value:0},{period:"105.79m2~",value:0}],i=0;i<t.length;++i)"1"==t[i]._id.value?o[0].value=t[i].count:"2"==t[i]._id.value?o[1].value=t[i].count:"3"==t[i]._id.value?o[2].value=t[i].count:"4"==t[i]._id.value?o[3].value=t[i].count:"5"==t[i]._id.value&&(o[4].value=t[i].count);Morris.Bar({element:"morris-area-chart",data:o,xkey:"period",ykeys:["value"],labels:["거주면적"],pointSize:2,hideHover:"auto",resize:!0})})},e.getTraffic(),e.getCommercial(),e.getLeisure(),e.getGreen(),e.getArea()}]),angular.module("app").service("ResidenceSvc",["$http",function(e){this.getTraffic=function(){return e.post("/api/lol/admin/getResicence/traffic")},this.getCommercial=function(){return e.post("/api/lol/admin/getResicence/commercial")},this.getLeisure=function(){return e.post("/api/lol/admin/getResicence/leisure")},this.getGreen=function(){return e.post("/api/lol/admin/getResicence/green")},this.getArea=function(){return e.post("/api/lol/admin/getResicence/area")}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/admin.html"}).when("/social",{templateUrl:"templates/social.html"}).when("/residence",{templateUrl:"templates/residence.html"}).when("/point",{templateUrl:"templates/point.html"}),t.html5Mode(!1),t.hashPrefix("!")}]),angular.module("app").controller("SocialCtrl",["$scope","SocialSvc",function(e,t){e.getSex=function(){t.getSex().success(function(e){var t=e.data;console.log("sex data:"+t[0]._id.sex);for(var o=[],i=0;i<t.length;++i)if(1==t[i]._id.sex){var a={label:"여자",data:t[i].count};o.push(a)}else{var n={label:"남자",data:t[i].count};o.push(n)}$.plot($("#flot-pie-chart-sex"),o,{series:{pie:{show:!0}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})})},e.getDrive=function(){t.getDrive().success(function(e){var t=e.data;console.log("drive data:"+t[0]._id.drive_license);for(var o=[{label:"운전면허 소지",data:0},{label:"운전면허 미소지",data:0}],i=0;i<t.length;++i)1==t[i]._id.drive_license?o[0].data=t[i].count:o[1].data=t[i].count;$.plot($("#flot-pie-chart-drive"),o,{series:{pie:{show:!0}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})})},e.getAge=function(){t.getAge().success(function(e){for(var t=e.data,o=[{period:"0-19",age:0},{period:"20-29",age:0},{period:"30-39",age:0},{period:"40-49",age:0},{period:"50-59",age:0},{period:"60-",age:0}],i=0;i<t.length;++i)"range 0-19"==t[i]._id?o[0].age=t[i].count:"range 20-29"==t[i]._id?o[1].age=t[i].count:"range 30-39"==t[i]._id?o[2].age=t[i].count:"range 40-49"==t[i]._id?o[3].age=t[i].count:"range 50-59"==t[i]._id?o[4].age=t[i].count:o[5].age=t[i].count;Morris.Bar({element:"morris-age-chart",data:o,xkey:"period",ykeys:["age"],labels:["연령대"],pointSize:2,hideHover:"auto",resize:!0})})},e.getIncome=function(){t.getIncome().success(function(e){for(var t=e.data,o=[{period:"~1백만",income:0},{period:"1백~2백만",income:0},{period:"2백-3백만",income:0},{period:"3백-5백만",income:0},{period:"5백-1천만",income:0},{period:"1천만이상",income:0}],i=0;i<t.length;++i)"range 0-100"==t[i]._id?o[0].income=t[i].count:"range 100-200"==t[i]._id?o[1].income=t[i].count:"range 200-300"==t[i]._id?o[2].income=t[i].count:"range 300-500"==t[i]._id?o[3].income=t[i].count:"range 500-1000"==t[i]._id?o[4].income=t[i].count:o[5].income=t[i].count;Morris.Bar({element:"morris-income-chart",data:o,xkey:"period",ykeys:["income"],labels:["수입"],pointSize:2,hideHover:"auto",resize:!0})})},e.getSex(),e.getDrive(),e.getAge(),e.getIncome()}]),angular.module("app").service("SocialSvc",["$http",function(e){this.getSex=function(){return e.post("/api/lol/admin/getSocial/sex")},this.getDrive=function(){return e.post("/api/lol/admin/getSocial/drive")},this.getAge=function(){return e.post("/api/lol/admin/getSocial/age")},this.getIncome=function(){return e.post("/api/lol/admin/getSocial/income")}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,t){function o(t){for(var o=0;o<e.users.length;++o)console.log("user:"+e.users[o]._id),t==e.users[o]._id&&(e.users[o].name=e.name,e.users[o].password=e.password)}function i(t){console.log("delete userId:"+t);for(var o=0;o<e.users.length;++o)if(console.log("user:"+e.users[o]._id),t==e.users[o]._id)return console.log("deleted"),void e.users.splice(o,1)}e.edit=!1,e.deleteId,t.fetch().success(function(t){e.users=t}),e.saveUser=function(){e.edit?t.modify({_id:e.id,name:e.name,password:e.password}).success(function(t){o(e.id),e.id=null,e.name=null,e.password=null,e.edit=!1}):t.create({_id:e.id,name:e.name,password:e.password}).success(function(t){e.users.unshift(t),e.id=null,e.name=null,e.password=null})},e.editUser=function(t){e.edit=!0,e.id=t._id,e.name=t.name,e.password=t.password},e.deleteConfirm=function(t){console.log("userId:"+t._id),e.deleteId=t._id,$("#dialogDelete").modal("show")},e.deleteUser=function(){$("#dialogDelete").modal("hide"),t.remove({_id:e.deleteId}).success(function(t){i(e.deleteId)})}}]),angular.module("app").service("UserSvc",["$http",function(e){this.fetch=function(){return e.post("/api/user/getList")},this.create=function(t){return e.post("/api/user/add",t)},this.modify=function(t){return e.post("/api/user/modify",t)},this.remove=function(t){return e.post("/api/user/remove",t)}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJwb2ludC5jdHJsLmpzIiwicG9pbnQuc3ZjLmpzIiwicmVzaWRlbmNlLmN0cmwuanMiLCJyZXNpZGVuY2Uuc3ZjLmpzIiwicm91dGVzLmpzIiwic29jaWFsLmN0cmwuanMiLCJzb2NpYWwuc3ZjLmpzIiwidXNlci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJQb2ludFN2YyIsInBvaW50TGlzdCIsInRyYXZlbExpc3QiLCJsb2NhdGlvbkxpc3QiLCJnZXRSYW5raW5nTGlzdCIsInN1Y2Nlc3MiLCJkYXRhcyIsImRhdGEiLCJ2aWV3VHJhdmVsIiwiZW1haWwiLCJjb25zb2xlIiwibG9nIiwiZ2V0VHJhdmVsTGlzdCIsInVzZXJJZCIsInZpZXdNYXAiLCJ0cmF2ZWwiLCJnZXRMb2NhdGlvbkxpc3QiLCJ0cmF2ZWxJZCIsIm9yaWdpbiIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJsYXQiLCJsbmciLCJkZXN0aW5hdGlvbiIsImxlbmd0aCIsIm1hcE9wdGlvbnMiLCJ6b29tIiwiY2VudGVyIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiVEVSUkFJTiIsIm1hcCIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJvcmlnaW5fbWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJkZXN0aW5hdGlvbl9tYXJrZXIiLCJhbmltYXRpb24iLCJBbmltYXRpb24iLCJCT1VOQ0UiLCJzZXRNYXAiLCJwYXRoQ29vcmRpbmF0ZXMiLCJpIiwicGF0aExpbmUiLCJQb2x5bGluZSIsInBhdGgiLCJnZW9kZXNpYyIsInN0cm9rZUNvbG9yIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJwb3N0IiwidXNlciIsIlJlc2lkZW5jZVN2YyIsImdldFRyYWZmaWMiLCJyZXNpZGVuY2VfZGF0YSIsInBlcmlvZCIsInZhbHVlIiwiX2lkIiwiY291bnQiLCJNb3JyaXMiLCJCYXIiLCJlbGVtZW50IiwieGtleSIsInlrZXlzIiwibGFiZWxzIiwicG9pbnRTaXplIiwiaGlkZUhvdmVyIiwicmVzaXplIiwiZ2V0Q29tbWVyY2lhbCIsImdldExlaXN1cmUiLCJnZXRHcmVlbiIsImdldEFyZWEiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiaHRtbDVNb2RlIiwiaGFzaFByZWZpeCIsIlNvY2lhbFN2YyIsImdldFNleCIsInNleF9kYXRhIiwic2V4IiwibWFsZV9kYXRhIiwibGFiZWwiLCJwdXNoIiwiZmVtYWxlX2RhdGEiLCIkIiwicGxvdCIsInNlcmllcyIsInBpZSIsInNob3ciLCJncmlkIiwiaG92ZXJhYmxlIiwidG9vbHRpcCIsInRvb2x0aXBPcHRzIiwiY29udGVudCIsInNoaWZ0cyIsIngiLCJ5IiwiZGVmYXVsdFRoZW1lIiwiZ2V0RHJpdmUiLCJkcml2ZV9kYXRhIiwiZHJpdmVfbGljZW5zZSIsImdldEFnZSIsImFnZV9kYXRhIiwiYWdlIiwiZ2V0SW5jb21lIiwiaW5jb21lX2RhdGEiLCJpbmNvbWUiLCJVc2VyU3ZjIiwicmVmcmVzaFVwZGF0ZSIsInVzZXJzIiwibmFtZSIsInBhc3N3b3JkIiwicmVmcmVzaERlbGV0ZSIsInNwbGljZSIsImVkaXQiLCJkZWxldGVJZCIsImZldGNoIiwic2F2ZVVzZXIiLCJtb2RpZnkiLCJpZCIsImNyZWF0ZSIsInVuc2hpZnQiLCJlZGl0VXNlciIsImRlbGV0ZUNvbmZpcm0iLCJtb2RhbCIsImRlbGV0ZVVzZXIiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRQyxPQUFPLE9BQ1gsWUNESkQsUUFBUUMsT0FBTyxPQUNkQyxXQUFXLFlBQUEsU0FBWSxTQUFVQyxPQ0RsQ0gsUUFBUUMsT0FBTyxPQUNkQyxXQUFXLGFBQUEsU0FBQSxXQUFhLFNB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RSxHQUN0QixNQUFPSCxHQUFNRSxLQUFLLG1CQUFvQkMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICduZ1JvdXRlJ1xyXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdNYWluQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1BvaW50Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgUG9pbnRTdmMpe1xyXG5cclxuXHQkc2NvcGUucG9pbnRMaXN0ID0gW107XHJcblx0JHNjb3BlLnRyYXZlbExpc3QgPSBbXTtcclxuXHQkc2NvcGUubG9jYXRpb25MaXN0ID0gW107XHJcblx0XHJcblx0JHNjb3BlLmdldFJhbmtpbmdMaXN0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRQb2ludFN2Yy5nZXRSYW5raW5nTGlzdCgpXHJcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xyXG5cdFx0XHQkc2NvcGUucG9pbnRMaXN0ID0gZGF0YXMuZGF0YTtcclxuXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmdldFJhbmtpbmdMaXN0KCk7XHJcblxyXG5cdCRzY29wZS52aWV3VHJhdmVsID0gZnVuY3Rpb24oZW1haWwpIHtcclxuXHRcdGNvbnNvbGUubG9nKCd2aWV3VHJhdmVsJyk7XHJcblx0XHRQb2ludFN2Yy5nZXRUcmF2ZWxMaXN0KHt1c2VySWQ6ZW1haWx9KVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YXMpIHtcclxuXHRcdFx0JHNjb3BlLnRyYXZlbExpc3QgPSBkYXRhcy5kYXRhO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS52aWV3TWFwID0gZnVuY3Rpb24odHJhdmVsKSB7XHJcblx0XHRjb25zb2xlLmxvZygndHJhdmVsSWQ6JyArIHRyYXZlbCk7XHJcblx0XHRQb2ludFN2Yy5nZXRMb2NhdGlvbkxpc3Qoe3RyYXZlbElkOnRyYXZlbH0pXHJcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xyXG5cdFx0XHR2YXIgbG9jYXRpb25MaXN0ID0gZGF0YXMuZGF0YTtcclxuXHRcdFx0dmFyIG9yaWdpbiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobG9jYXRpb25MaXN0WzBdLmxhdCwgbG9jYXRpb25MaXN0WzBdLmxuZyk7XHJcblx0XHRcdHZhciBkZXN0aW5hdGlvbiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobG9jYXRpb25MaXN0W2xvY2F0aW9uTGlzdC5sZW5ndGgtMV0ubGF0LCBsb2NhdGlvbkxpc3RbbG9jYXRpb25MaXN0Lmxlbmd0aC0xXS5sbmcpO1xyXG5cclxuXHRcdFx0dmFyIG1hcE9wdGlvbnMgPSB7XHJcblx0XHQgICAgICAgIHpvb206IDE0LFxyXG5cdFx0ICAgICAgICBjZW50ZXI6IGRlc3RpbmF0aW9uLFxyXG5cdFx0ICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5URVJSQUlOXHJcblx0XHQgICAgfVxyXG5cclxuXHRcdCAgICAkc2NvcGUubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIG1hcE9wdGlvbnMpO1xyXG5cclxuXHRcdFx0dmFyIG9yaWdpbl9tYXJrZXI9bmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcblx0XHRcdFx0cG9zaXRpb246b3JpZ2luXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dmFyIGRlc3RpbmF0aW9uX21hcmtlcj1uZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuXHRcdFx0XHRwb3NpdGlvbjpkZXN0aW5hdGlvbixcclxuXHRcdFx0XHRhbmltYXRpb246Z29vZ2xlLm1hcHMuQW5pbWF0aW9uLkJPVU5DRVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdG9yaWdpbl9tYXJrZXIuc2V0TWFwKCRzY29wZS5tYXApO1xyXG5cdFx0XHRkZXN0aW5hdGlvbl9tYXJrZXIuc2V0TWFwKCRzY29wZS5tYXApO1xyXG5cclxuXHRcdFx0Ly9kcmF3IHBhdGhcclxuXHRcdFx0dmFyIHBhdGhDb29yZGluYXRlcyA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IGxvY2F0aW9uTGlzdC5sZW5ndGggOyArK2kpIHtcclxuXHRcdFx0XHRwYXRoQ29vcmRpbmF0ZXNbaV0gPSB7bGF0OmxvY2F0aW9uTGlzdFtpXS5sYXQsIGxuZzpsb2NhdGlvbkxpc3RbaV0ubG5nfTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHBhdGhMaW5lID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlsaW5lKHtcclxuXHRcdFx0ICAgIHBhdGg6IHBhdGhDb29yZGluYXRlcyxcclxuXHRcdFx0ICAgIGdlb2Rlc2ljOiB0cnVlLFxyXG5cdFx0XHQgICAgc3Ryb2tlQ29sb3I6ICcjRkYwMDAwJyxcclxuXHRcdFx0ICAgIHN0cm9rZU9wYWNpdHk6IDEuMCxcclxuXHRcdFx0ICAgIHN0cm9rZVdlaWdodDogM1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHBhdGhMaW5lLnNldE1hcCgkc2NvcGUubWFwKTtcclxuXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLnNlcnZpY2UoJ1BvaW50U3ZjJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHR0aGlzLmdldFJhbmtpbmdMaXN0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvcG9pbnQvZ2V0UmFua2luZ0xpc3QnKTtcclxuXHR9XHJcblxyXG5cdHRoaXMuZ2V0VHJhdmVsTGlzdCA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC90cmF2ZWwvZ2V0bGlzdCcsIHVzZXIpO1xyXG5cdH1cclxuXHJcblx0dGhpcy5nZXRMb2NhdGlvbkxpc3QgPSBmdW5jdGlvbih0cmF2ZWwpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9sb2NhdGlvbi9nZXRsaXN0JywgdHJhdmVsKTtcclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1Jlc2lkZW5jZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFJlc2lkZW5jZVN2Yyl7XG5cdFxuXHQkc2NvcGUuZ2V0VHJhZmZpYyA9IGZ1bmN0aW9uKCkge1xuXHRcdFJlc2lkZW5jZVN2Yy5nZXRUcmFmZmljKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIHJlc2lkZW5jZV9kYXRhID0gZGF0YXMuZGF0YTtcblx0XHRcdC8vY29uc29sZS5sb2coJ3Jlc2lkZW5jZV9kYXRhIGRhdGE6JyArIHNleF9kYXRhWzBdLl9pZC5zZXgpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IFt7cGVyaW9kOiAn7JWE7KO867aI66eM7KGxJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrtojrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+uztO2GtScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn66eM7KGxJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp6TsmrDrp4zsobEnLHZhbHVlOiAwfV07XG5cblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgcmVzaWRlbmNlX2RhdGEubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0aWYocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVswXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjJcIikge1xuXHRcdFx0XHRcdGRhdGFbMV0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIzXCIpIHtcblx0XHRcdFx0XHRkYXRhWzJdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNFwiKSB7XG5cdFx0XHRcdFx0ZGF0YVszXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjVcIikge1xuXHRcdFx0XHRcdGRhdGFbNF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgTW9ycmlzLkJhcih7XG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtdHJhZmZpYy1jaGFydCcsXG5cdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgICAgICAgIHhrZXk6ICdwZXJpb2QnLFxuXHQgICAgICAgICAgICB5a2V5czogWyd2YWx1ZSddLFxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn64yA7KSR6rWQ7Ya1IOunjOyhseuPhCddLFxuXHQgICAgICAgICAgICBwb2ludFNpemU6IDIsXG5cdCAgICAgICAgICAgIGhpZGVIb3ZlcjogJ2F1dG8nLFxuXHQgICAgICAgICAgICByZXNpemU6IHRydWVcblx0ICAgICAgICB9KTtcblx0XHR9KVxuXHR9XG5cblx0JHNjb3BlLmdldENvbW1lcmNpYWwgPSBmdW5jdGlvbigpIHtcblx0XHRSZXNpZGVuY2VTdmMuZ2V0Q29tbWVyY2lhbCgpXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YXMpIHtcblx0XHRcdHZhciByZXNpZGVuY2VfZGF0YSA9IGRhdGFzLmRhdGE7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCdyZXNpZGVuY2VfZGF0YSBkYXRhOicgKyBzZXhfZGF0YVswXS5faWQuc2V4KTtcblxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJ+yVhOyjvOu2iOunjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn67aI66eM7KGxJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrs7TthrUnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+unjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn66ek7Jqw66eM7KGxJyx2YWx1ZTogMH1dO1xuXG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IHJlc2lkZW5jZV9kYXRhLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGlmKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjFcIikge1xuXHRcdFx0XHRcdGRhdGFbMF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIyXCIpIHtcblx0XHRcdFx0XHRkYXRhWzFdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiM1wiKSB7XG5cdFx0XHRcdFx0ZGF0YVsyXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjRcIikge1xuXHRcdFx0XHRcdGRhdGFbM10udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI1XCIpIHtcblx0XHRcdFx0XHRkYXRhWzRdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH1cblx0XHRcdH1cblxuXHQgICAgICAgIE1vcnJpcy5CYXIoe1xuXHQgICAgICAgICAgICBlbGVtZW50OiAnbW9ycmlzLWNvbW1lcmNpYWwtY2hhcnQnLFxuXHQgICAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgICB4a2V5OiAncGVyaW9kJyxcblx0ICAgICAgICAgICAgeWtleXM6IFsndmFsdWUnXSxcblx0ICAgICAgICAgICAgbGFiZWxzOiBbJ+uMgOykkeq1kO2GtSDrp4zsobHrj4QnXSxcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRMZWlzdXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0UmVzaWRlbmNlU3ZjLmdldExlaXN1cmUoKVxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XG5cdFx0XHR2YXIgcmVzaWRlbmNlX2RhdGEgPSBkYXRhcy5kYXRhO1xuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVzaWRlbmNlX2RhdGEgZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XG5cblx0XHRcdHZhciBkYXRhID0gW3twZXJpb2Q6ICfslYTso7zrtojrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+u2iOunjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn67O07Ya1Jyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+unpOyasOunjOyhsScsdmFsdWU6IDB9XTtcblxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCByZXNpZGVuY2VfZGF0YS5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcblx0XHRcdFx0XHRkYXRhWzBdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMlwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjNcIikge1xuXHRcdFx0XHRcdGRhdGFbMl0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcblx0XHRcdFx0XHRkYXRhWzNdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1sZWlzdXJlLWNoYXJ0Jyxcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ3ZhbHVlJ10sXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfrjIDspJHqtZDthrUg66eM7KGx64+EJ10sXG5cdCAgICAgICAgICAgIHBvaW50U2l6ZTogMixcblx0ICAgICAgICAgICAgaGlkZUhvdmVyOiAnYXV0bycsXG5cdCAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuZ2V0R3JlZW4gPSBmdW5jdGlvbigpIHtcblx0XHRSZXNpZGVuY2VTdmMuZ2V0R3JlZW4oKVxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XG5cdFx0XHR2YXIgcmVzaWRlbmNlX2RhdGEgPSBkYXRhcy5kYXRhO1xuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVzaWRlbmNlX2RhdGEgZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XG5cblx0XHRcdHZhciBkYXRhID0gW3twZXJpb2Q6ICfslYTso7zrtojrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+u2iOunjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn67O07Ya1Jyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+unpOyasOunjOyhsScsdmFsdWU6IDB9XTtcblxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCByZXNpZGVuY2VfZGF0YS5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcblx0XHRcdFx0XHRkYXRhWzBdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMlwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjNcIikge1xuXHRcdFx0XHRcdGRhdGFbMl0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcblx0XHRcdFx0XHRkYXRhWzNdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1ncmVlbi1jaGFydCcsXG5cdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgICAgICAgIHhrZXk6ICdwZXJpb2QnLFxuXHQgICAgICAgICAgICB5a2V5czogWyd2YWx1ZSddLFxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn64W57KeAIOunjOyhseuPhCddLFxuXHQgICAgICAgICAgICBwb2ludFNpemU6IDIsXG5cdCAgICAgICAgICAgIGhpZGVIb3ZlcjogJ2F1dG8nLFxuXHQgICAgICAgICAgICByZXNpemU6IHRydWVcblx0ICAgICAgICB9KTtcblx0XHR9KVxuXHR9XG5cblx0JHNjb3BlLmdldEFyZWE9IGZ1bmN0aW9uKCkge1xuXHRcdFJlc2lkZW5jZVN2Yy5nZXRBcmVhKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIHJlc2lkZW5jZV9kYXRhID0gZGF0YXMuZGF0YTtcblx0XHRcdC8vY29uc29sZS5sb2coJ3Jlc2lkZW5jZV9kYXRhIGRhdGE6JyArIHNleF9kYXRhWzBdLl9pZC5zZXgpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IFt7cGVyaW9kOiAnNDkuNW0y7J207ZWYJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICc0OS41OH41OS40bTInLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzU5LjV+NzkuMzJtMicsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnNzkuMzN+MTA1Ljc4bTInLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzEwNS43OW0yficsdmFsdWU6IDB9XTtcblxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCByZXNpZGVuY2VfZGF0YS5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcblx0XHRcdFx0XHRkYXRhWzBdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMlwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjNcIikge1xuXHRcdFx0XHRcdGRhdGFbMl0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcblx0XHRcdFx0XHRkYXRhWzNdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1hcmVhLWNoYXJ0Jyxcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ3ZhbHVlJ10sXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfqsbDso7zrqbTsoIEnXSxcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRUcmFmZmljKCk7XG5cdCRzY29wZS5nZXRDb21tZXJjaWFsKCk7XG5cdCRzY29wZS5nZXRMZWlzdXJlKCk7XG5cdCRzY29wZS5nZXRHcmVlbigpO1xuXHQkc2NvcGUuZ2V0QXJlYSgpO1xufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdSZXNpZGVuY2VTdmMnLCBmdW5jdGlvbigkaHR0cCkge1xuXHR0aGlzLmdldFRyYWZmaWMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0UmVzaWNlbmNlL3RyYWZmaWMnKTtcblx0fVxuXHR0aGlzLmdldENvbW1lcmNpYWwgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0UmVzaWNlbmNlL2NvbW1lcmNpYWwnKTtcblx0fVxuXHR0aGlzLmdldExlaXN1cmUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0UmVzaWNlbmNlL2xlaXN1cmUnKTtcblx0fVxuXHR0aGlzLmdldEdyZWVuID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFJlc2ljZW5jZS9ncmVlbicpO1xuXHR9XG5cdHRoaXMuZ2V0QXJlYSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9hZG1pbi9nZXRSZXNpY2VuY2UvYXJlYScpO1xuXHR9XG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoIFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdC53aGVuKCcvJywge3RlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2FkbWluLmh0bWwnfSlcblx0LndoZW4oJy9zb2NpYWwnLCB7dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvc29jaWFsLmh0bWwnfSlcblx0LndoZW4oJy9yZXNpZGVuY2UnLCB7dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvcmVzaWRlbmNlLmh0bWwnfSlcblx0LndoZW4oJy9wb2ludCcsIHt0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9wb2ludC5odG1sJ30pXG5cdFxuXHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoZmFsc2UpO1xuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignU29jaWFsQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgU29jaWFsU3ZjKXtcblx0XG5cdCRzY29wZS5nZXRTZXggPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0U2V4KClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIHNleF9kYXRhID0gZGF0YXMuZGF0YTtcblx0XHRcdGNvbnNvbGUubG9nKCdzZXggZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XG5cblx0XHRcdHZhciBkYXRhID0gW107XG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IHNleF9kYXRhLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGlmKHNleF9kYXRhW2ldLl9pZC5zZXggPT0gMSkge1xuXHRcdFx0XHRcdHZhciBtYWxlX2RhdGEgPSB7IGxhYmVsOiBcIuyXrOyekFwiLCBkYXRhOiBzZXhfZGF0YVtpXS5jb3VudCB9O1xuXHRcdFx0XHRcdGRhdGEucHVzaChtYWxlX2RhdGEpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciBmZW1hbGVfZGF0YSA9IHsgbGFiZWw6IFwi64Ko7J6QXCIsIGRhdGE6IHNleF9kYXRhW2ldLmNvdW50IH07XG5cdFx0XHRcdFx0ZGF0YS5wdXNoKGZlbWFsZV9kYXRhKTtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgdmFyIHBsb3RPYmogPSAkLnBsb3QoJChcIiNmbG90LXBpZS1jaGFydC1zZXhcIiksIGRhdGEsIHtcblx0ICAgICAgICAgICAgc2VyaWVzOiB7XG5cdCAgICAgICAgICAgICAgICBwaWU6IHtcblx0ICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGdyaWQ6IHtcblx0ICAgICAgICAgICAgICAgIGhvdmVyYWJsZTogdHJ1ZVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxuXHQgICAgICAgICAgICB0b29sdGlwT3B0czoge1xuXHQgICAgICAgICAgICAgICAgY29udGVudDogXCIlcC4wJSwgJXNcIiwgLy8gc2hvdyBwZXJjZW50YWdlcywgcm91bmRpbmcgdG8gMiBkZWNpbWFsIHBsYWNlc1xuXHQgICAgICAgICAgICAgICAgc2hpZnRzOiB7XG5cdCAgICAgICAgICAgICAgICAgICAgeDogMjAsXG5cdCAgICAgICAgICAgICAgICAgICAgeTogMFxuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHRUaGVtZTogZmFsc2Vcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuZ2V0RHJpdmUgPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0RHJpdmUoKVxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XG5cdFx0XHR2YXIgZHJpdmVfZGF0YSA9IGRhdGFzLmRhdGE7XG5cdFx0XHRjb25zb2xlLmxvZygnZHJpdmUgZGF0YTonICsgZHJpdmVfZGF0YVswXS5faWQuZHJpdmVfbGljZW5zZSk7XG5cblx0XHRcdHZhciBkYXRhID0gW3sgbGFiZWw6IFwi7Jq07KCE66m07ZeIIOyGjOyngFwiLCBkYXRhOiAwIH0sIHsgbGFiZWw6IFwi7Jq07KCE66m07ZeIIOuvuOyGjOyngFwiLCBkYXRhOiAwIH1dO1xuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCBkcml2ZV9kYXRhLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGlmKGRyaXZlX2RhdGFbaV0uX2lkLmRyaXZlX2xpY2Vuc2UgPT0gMSkge1xuXHRcdFx0XHRcdGRhdGFbMF0uZGF0YSA9IGRyaXZlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS5kYXRhID0gZHJpdmVfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgdmFyIHBsb3RPYmogPSAkLnBsb3QoJChcIiNmbG90LXBpZS1jaGFydC1kcml2ZVwiKSwgZGF0YSwge1xuXHQgICAgICAgICAgICBzZXJpZXM6IHtcblx0ICAgICAgICAgICAgICAgIHBpZToge1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgZ3JpZDoge1xuXHQgICAgICAgICAgICAgICAgaG92ZXJhYmxlOiB0cnVlXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHRvb2x0aXA6IHRydWUsXG5cdCAgICAgICAgICAgIHRvb2x0aXBPcHRzOiB7XG5cdCAgICAgICAgICAgICAgICBjb250ZW50OiBcIiVwLjAlLCAlc1wiLCAvLyBzaG93IHBlcmNlbnRhZ2VzLCByb3VuZGluZyB0byAyIGRlY2ltYWwgcGxhY2VzXG5cdCAgICAgICAgICAgICAgICBzaGlmdHM6IHtcblx0ICAgICAgICAgICAgICAgICAgICB4OiAyMCxcblx0ICAgICAgICAgICAgICAgICAgICB5OiAwXG5cdCAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgZGVmYXVsdFRoZW1lOiBmYWxzZVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRBZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0QWdlKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIGFnZV9kYXRhID0gZGF0YXMuZGF0YTtcblxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJzAtMTknLGFnZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICcyMC0yOScsYWdlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzMwLTM5JyxhZ2U6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnNDAtNDknLGFnZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICc1MC01OScsYWdlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzYwLScsYWdlOiAwfV07XG5cblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgYWdlX2RhdGEubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0aWYoYWdlX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMC0xOVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVswXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAyMC0yOVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAzMC0zOVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsyXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSA0MC00OVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVszXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSA1MC01OVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgXHRkYXRhWzVdLmFnZSA9IGFnZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1hZ2UtY2hhcnQnLFxuXHQgICAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgICB4a2V5OiAncGVyaW9kJyxcblx0ICAgICAgICAgICAgeWtleXM6IFsnYWdlJ10sXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfsl7DroLnrjIAnXSxcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRJbmNvbWUgPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0SW5jb21lKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIGluY29tZV9kYXRhID0gZGF0YXMuZGF0YTtcblxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJ34x67Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnMeuwsX4y67Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnMuuwsS0z67Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnM+uwsS0167Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnNeuwsS0x7LKc66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnMeyynOunjOydtOyDgScsaW5jb21lOiAwfV07XG5cblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgaW5jb21lX2RhdGEubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0aWYoaW5jb21lX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMC0xMDBcIikge1xuXHRcdFx0XHRcdGRhdGFbMF0uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5jb21lX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMTAwLTIwMFwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS5pbmNvbWUgPSBpbmNvbWVfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNvbWVfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAyMDAtMzAwXCIpIHtcblx0XHRcdFx0XHRkYXRhWzJdLmluY29tZSA9IGluY29tZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGluY29tZV9kYXRhW2ldLl9pZCA9PSBcInJhbmdlIDMwMC01MDBcIikge1xuXHRcdFx0XHRcdGRhdGFbM10uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5jb21lX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgNTAwLTEwMDBcIikge1xuXHRcdFx0XHRcdGRhdGFbNF0uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIFx0ZGF0YVs1XS5pbmNvbWUgPSBpbmNvbWVfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgTW9ycmlzLkJhcih7XG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtaW5jb21lLWNoYXJ0Jyxcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ2luY29tZSddLFxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn7IiY7J6FJ10sXG5cdCAgICAgICAgICAgIHBvaW50U2l6ZTogMixcblx0ICAgICAgICAgICAgaGlkZUhvdmVyOiAnYXV0bycsXG5cdCAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuZ2V0U2V4KCk7XG5cdCRzY29wZS5nZXREcml2ZSgpO1xuXHQkc2NvcGUuZ2V0QWdlKCk7XG5cdCRzY29wZS5nZXRJbmNvbWUoKSA7XG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1NvY2lhbFN2YycsIGZ1bmN0aW9uKCRodHRwKSB7XG5cdHRoaXMuZ2V0U2V4ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFNvY2lhbC9zZXgnKTtcblx0fVxuXHR0aGlzLmdldERyaXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFNvY2lhbC9kcml2ZScpO1xuXHR9XG5cdHRoaXMuZ2V0QWdlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFNvY2lhbC9hZ2UnKTtcblx0fVxuXHR0aGlzLmdldEluY29tZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9hZG1pbi9nZXRTb2NpYWwvaW5jb21lJyk7XG5cdH1cbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignVXNlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMpe1xyXG5cdCRzY29wZS5lZGl0ID0gZmFsc2U7XHJcblx0JHNjb3BlLmRlbGV0ZUlkO1xyXG5cdFxyXG5cdFVzZXJTdmMuZmV0Y2goKVxyXG5cdC5zdWNjZXNzKGZ1bmN0aW9uKHVzZXJzKSB7XHJcblx0XHQkc2NvcGUudXNlcnMgPSB1c2VycztcclxuXHR9KVxyXG5cclxuXHQkc2NvcGUuc2F2ZVVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZigkc2NvcGUuZWRpdCkgeyAgLy/siJjsoJVcclxuXHRcdFx0VXNlclN2Yy5tb2RpZnkoeyBfaWQ6ICRzY29wZS5pZCwgIG5hbWU6ICRzY29wZS5uYW1lLCBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkIH0pXHJcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHJlZnJlc2hVcGRhdGUoJHNjb3BlLmlkKTtcclxuXHRcdFx0XHQkc2NvcGUuaWQgPSBudWxsO1xyXG5cdFx0XHRcdCRzY29wZS5uYW1lID0gbnVsbDtcclxuXHRcdFx0XHQkc2NvcGUucGFzc3dvcmQgPW51bGw7XHJcblx0XHRcdFx0JHNjb3BlLmVkaXQgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2UgeyAvL+yDneyEsVxyXG5cdFx0XHRVc2VyU3ZjLmNyZWF0ZSh7IF9pZDogJHNjb3BlLmlkLCAgbmFtZTogJHNjb3BlLm5hbWUsIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmQgfSlcclxuXHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24odXNlcil7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzLnVuc2hpZnQodXNlcik7XHJcblx0XHRcdFx0JHNjb3BlLmlkID0gbnVsbDtcclxuXHRcdFx0XHQkc2NvcGUubmFtZSA9IG51bGw7XHJcblx0XHRcdFx0JHNjb3BlLnBhc3N3b3JkID1udWxsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHRcclxuXHQkc2NvcGUuZWRpdFVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHQkc2NvcGUuZWRpdCA9IHRydWU7XHJcblx0XHQkc2NvcGUuaWQgPSB1c2VyLl9pZDtcclxuXHRcdCRzY29wZS5uYW1lID0gdXNlci5uYW1lO1xyXG5cdFx0JHNjb3BlLnBhc3N3b3JkID11c2VyLnBhc3N3b3JkO1xyXG5cdH1cclxuXHRcclxuXHQkc2NvcGUuZGVsZXRlQ29uZmlybSA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdGNvbnNvbGUubG9nKCd1c2VySWQ6JyArIHVzZXIuX2lkKTtcclxuXHRcdCRzY29wZS5kZWxldGVJZCA9IHVzZXIuX2lkO1xyXG5cdFx0JChcIiNkaWFsb2dEZWxldGVcIikubW9kYWwoJ3Nob3cnKTtcclxuXHR9XHJcblx0XHJcblx0JHNjb3BlLmRlbGV0ZVVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdCQoXCIjZGlhbG9nRGVsZXRlXCIpLm1vZGFsKCdoaWRlJyk7XHJcblx0XHRVc2VyU3ZjLnJlbW92ZSh7X2lkOiAkc2NvcGUuZGVsZXRlSWR9KVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdHJlZnJlc2hEZWxldGUoJHNjb3BlLmRlbGV0ZUlkKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZWZyZXNoVXBkYXRlKHVzZXJJZCkge1xyXG5cdFx0Zm9yKHZhciBpPTA7IGkgPCAkc2NvcGUudXNlcnMubGVuZ3RoIDsgKytpKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd1c2VyOicgKyAkc2NvcGUudXNlcnNbaV0uX2lkKTtcclxuXHRcdFx0aWYgKHVzZXJJZCA9PSAkc2NvcGUudXNlcnNbaV0uX2lkKSB7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzW2ldLm5hbWUgPSAkc2NvcGUubmFtZTtcclxuXHRcdFx0XHQkc2NvcGUudXNlcnNbaV0ucGFzc3dvcmQgPSAkc2NvcGUucGFzc3dvcmQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVmcmVzaERlbGV0ZSh1c2VySWQpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdkZWxldGUgdXNlcklkOicgKyB1c2VySWQpO1xyXG5cdFx0Zm9yKHZhciBpPTA7IGkgPCAkc2NvcGUudXNlcnMubGVuZ3RoIDsgKytpKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd1c2VyOicgKyAkc2NvcGUudXNlcnNbaV0uX2lkKTtcclxuXHRcdFx0aWYgKHVzZXJJZCA9PSAkc2NvcGUudXNlcnNbaV0uX2lkKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2RlbGV0ZWQnKTtcclxuXHRcdFx0XHQkc2NvcGUudXNlcnMuc3BsaWNlKGksIDEpOyAvL2nrsojsp7jrtoDthLAg7ZWt66qp7J2EIDHqsJwg7IKt7KCcXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbigkaHR0cCkge1xuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9nZXRMaXN0Jyk7XG5cdH1cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbih1c2VyKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9hZGQnLCB1c2VyKTtcblx0fVxuXHR0aGlzLm1vZGlmeSA9IGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VyL21vZGlmeScsIHVzZXIpO1xuXHR9XG5cdHRoaXMucmVtb3ZlID0gZnVuY3Rpb24odXNlcikge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXIvcmVtb3ZlJywgdXNlcik7XG5cdH1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
