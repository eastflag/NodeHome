angular.module("app",["ngRoute"]),angular.module("app").controller("MainCtrl",["$scope",function(e){}]),angular.module("app").controller("PointCtrl",["$scope","PointSvc",function(e,t){e.pointList=[],e.travelList=[],e.getRankingList=function(){t.getRankingList().success(function(t){e.pointList=t.data})},e.getRankingList(),e.viewTravel=function(i){console.log("viewTravel"),t.getTravelList({userId:i}).success(function(t){e.travelList=t.data})}}]),angular.module("app").service("PointSvc",["$http",function(e){this.getRankingList=function(){return e.post("/api/lol/point/getRankingList")},this.getTravelList=function(t){return e.post("/api/lol/travel/getlist",t)}}]),angular.module("app").controller("ResidenceCtrl",["$scope","ResidenceSvc",function(e,t){e.getTraffic=function(){t.getTraffic().success(function(e){for(var t=e.data,i=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],o=0;o<t.length;++o)"1"==t[o]._id.value?i[0].value=t[o].count:"2"==t[o]._id.value?i[1].value=t[o].count:"3"==t[o]._id.value?i[2].value=t[o].count:"4"==t[o]._id.value?i[3].value=t[o].count:"5"==t[o]._id.value&&(i[4].value=t[o].count);Morris.Bar({element:"morris-traffic-chart",data:i,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getCommercial=function(){t.getCommercial().success(function(e){for(var t=e.data,i=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],o=0;o<t.length;++o)"1"==t[o]._id.value?i[0].value=t[o].count:"2"==t[o]._id.value?i[1].value=t[o].count:"3"==t[o]._id.value?i[2].value=t[o].count:"4"==t[o]._id.value?i[3].value=t[o].count:"5"==t[o]._id.value&&(i[4].value=t[o].count);Morris.Bar({element:"morris-commercial-chart",data:i,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getLeisure=function(){t.getLeisure().success(function(e){for(var t=e.data,i=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],o=0;o<t.length;++o)"1"==t[o]._id.value?i[0].value=t[o].count:"2"==t[o]._id.value?i[1].value=t[o].count:"3"==t[o]._id.value?i[2].value=t[o].count:"4"==t[o]._id.value?i[3].value=t[o].count:"5"==t[o]._id.value&&(i[4].value=t[o].count);Morris.Bar({element:"morris-leisure-chart",data:i,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getGreen=function(){t.getGreen().success(function(e){for(var t=e.data,i=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],o=0;o<t.length;++o)"1"==t[o]._id.value?i[0].value=t[o].count:"2"==t[o]._id.value?i[1].value=t[o].count:"3"==t[o]._id.value?i[2].value=t[o].count:"4"==t[o]._id.value?i[3].value=t[o].count:"5"==t[o]._id.value&&(i[4].value=t[o].count);Morris.Bar({element:"morris-green-chart",data:i,xkey:"period",ykeys:["value"],labels:["녹지 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getArea=function(){t.getArea().success(function(e){for(var t=e.data,i=[{period:"49.5m2이하",value:0},{period:"49.58~59.4m2",value:0},{period:"59.5~79.32m2",value:0},{period:"79.33~105.78m2",value:0},{period:"105.79m2~",value:0}],o=0;o<t.length;++o)"1"==t[o]._id.value?i[0].value=t[o].count:"2"==t[o]._id.value?i[1].value=t[o].count:"3"==t[o]._id.value?i[2].value=t[o].count:"4"==t[o]._id.value?i[3].value=t[o].count:"5"==t[o]._id.value&&(i[4].value=t[o].count);Morris.Bar({element:"morris-area-chart",data:i,xkey:"period",ykeys:["value"],labels:["거주면적"],pointSize:2,hideHover:"auto",resize:!0})})},e.getTraffic(),e.getCommercial(),e.getLeisure(),e.getGreen(),e.getArea()}]),angular.module("app").service("ResidenceSvc",["$http",function(e){this.getTraffic=function(){return e.post("/api/lol/admin/getResicence/traffic")},this.getCommercial=function(){return e.post("/api/lol/admin/getResicence/commercial")},this.getLeisure=function(){return e.post("/api/lol/admin/getResicence/leisure")},this.getGreen=function(){return e.post("/api/lol/admin/getResicence/green")},this.getArea=function(){return e.post("/api/lol/admin/getResicence/area")}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/admin.html"}).when("/social",{templateUrl:"templates/social.html"}).when("/residence",{templateUrl:"templates/residence.html"}).when("/point",{templateUrl:"templates/point.html"}),t.html5Mode(!1),t.hashPrefix("!")}]),angular.module("app").controller("SocialCtrl",["$scope","SocialSvc",function(e,t){e.getSex=function(){t.getSex().success(function(e){var t=e.data;console.log("sex data:"+t[0]._id.sex);for(var i=[],o=0;o<t.length;++o)if(1==t[o]._id.sex){var a={label:"여자",data:t[o].count};i.push(a)}else{var n={label:"남자",data:t[o].count};i.push(n)}$.plot($("#flot-pie-chart-sex"),i,{series:{pie:{show:!0}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})})},e.getDrive=function(){t.getDrive().success(function(e){var t=e.data;console.log("drive data:"+t[0]._id.drive_license);for(var i=[{label:"운전면허 소지",data:0},{label:"운전면허 미소지",data:0}],o=0;o<t.length;++o)1==t[o]._id.drive_license?i[0].data=t[o].count:i[1].data=t[o].count;$.plot($("#flot-pie-chart-drive"),i,{series:{pie:{show:!0}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})})},e.getAge=function(){t.getAge().success(function(e){for(var t=e.data,i=[{period:"0-19",age:0},{period:"20-29",age:0},{period:"30-39",age:0},{period:"40-49",age:0},{period:"50-59",age:0},{period:"60-",age:0}],o=0;o<t.length;++o)"range 0-19"==t[o]._id?i[0].age=t[o].count:"range 20-29"==t[o]._id?i[1].age=t[o].count:"range 30-39"==t[o]._id?i[2].age=t[o].count:"range 40-49"==t[o]._id?i[3].age=t[o].count:"range 50-59"==t[o]._id?i[4].age=t[o].count:i[5].age=t[o].count;Morris.Bar({element:"morris-age-chart",data:i,xkey:"period",ykeys:["age"],labels:["연령대"],pointSize:2,hideHover:"auto",resize:!0})})},e.getIncome=function(){t.getIncome().success(function(e){for(var t=e.data,i=[{period:"~1백만",income:0},{period:"1백~2백만",income:0},{period:"2백-3백만",income:0},{period:"3백-5백만",income:0},{period:"5백-1천만",income:0},{period:"1천만이상",income:0}],o=0;o<t.length;++o)"range 0-100"==t[o]._id?i[0].income=t[o].count:"range 100-200"==t[o]._id?i[1].income=t[o].count:"range 200-300"==t[o]._id?i[2].income=t[o].count:"range 300-500"==t[o]._id?i[3].income=t[o].count:"range 500-1000"==t[o]._id?i[4].income=t[o].count:i[5].income=t[o].count;Morris.Bar({element:"morris-income-chart",data:i,xkey:"period",ykeys:["income"],labels:["수입"],pointSize:2,hideHover:"auto",resize:!0})})},e.getSex(),e.getDrive(),e.getAge(),e.getIncome()}]),angular.module("app").service("SocialSvc",["$http",function(e){this.getSex=function(){return e.post("/api/lol/admin/getSocial/sex")},this.getDrive=function(){return e.post("/api/lol/admin/getSocial/drive")},this.getAge=function(){return e.post("/api/lol/admin/getSocial/age")},this.getIncome=function(){return e.post("/api/lol/admin/getSocial/income")}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,t){function i(t){for(var i=0;i<e.users.length;++i)console.log("user:"+e.users[i]._id),t==e.users[i]._id&&(e.users[i].name=e.name,e.users[i].password=e.password)}function o(t){console.log("delete userId:"+t);for(var i=0;i<e.users.length;++i)if(console.log("user:"+e.users[i]._id),t==e.users[i]._id)return console.log("deleted"),void e.users.splice(i,1)}e.edit=!1,e.deleteId,t.fetch().success(function(t){e.users=t}),e.saveUser=function(){e.edit?t.modify({_id:e.id,name:e.name,password:e.password}).success(function(t){i(e.id),e.id=null,e.name=null,e.password=null,e.edit=!1}):t.create({_id:e.id,name:e.name,password:e.password}).success(function(t){e.users.unshift(t),e.id=null,e.name=null,e.password=null})},e.editUser=function(t){e.edit=!0,e.id=t._id,e.name=t.name,e.password=t.password},e.deleteConfirm=function(t){console.log("userId:"+t._id),e.deleteId=t._id,$("#dialogDelete").modal("show")},e.deleteUser=function(){$("#dialogDelete").modal("hide"),t.remove({_id:e.deleteId}).success(function(t){o(e.deleteId)})}}]),angular.module("app").service("UserSvc",["$http",function(e){this.fetch=function(){return e.post("/api/user/getList")},this.create=function(t){return e.post("/api/user/add",t)},this.modify=function(t){return e.post("/api/user/modify",t)},this.remove=function(t){return e.post("/api/user/remove",t)}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJwb2ludC5jdHJsLmpzIiwicG9pbnQuc3ZjLmpzIiwicmVzaWRlbmNlLmN0cmwuanMiLCJyZXNpZGVuY2Uuc3ZjLmpzIiwicm91dGVzLmpzIiwic29jaWFsLmN0cmwuanMiLCJzb2NpYWwuc3ZjLmpzIiwidXNlci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJQb2ludFN2YyIsInBvaW50TGlzdCIsInRyYXZlbExpc3QiLCJnZXRSYW5raW5nTGlzdCIsInN1Y2Nlc3MiLCJkYXRhcyIsImRhdGEiLCJ2aWV3VHJhdmVsIiwiZW1haWwiLCJjb25zb2xlIiwibG9nIiwiZ2V0VHJhdmVsTGlzdCIsInVzZXJJZCIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJwb3N0IiwidXNlciIsIlJlc2lkZW5jZVN2YyIsImdldFRyYWZmaWMiLCJyZXNpZGVuY2VfZGF0YSIsInBlcmlvZCIsInZhbHVlIiwiaSIsImxlbmd0aCIsIl9pZCIsImNvdW50IiwiTW9ycmlzIiwiQmFyIiwiZWxlbWVudCIsInhrZXkiLCJ5a2V5cyIsImxhYmVscyIsInBvaW50U2l6ZSIsImhpZGVIb3ZlciIsInJlc2l6ZSIsImdldENvbW1lcmNpYWwiLCJnZXRMZWlzdXJlIiwiZ2V0R3JlZW4iLCJnZXRBcmVhIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImh0bWw1TW9kZSIsImhhc2hQcmVmaXgiLCJTb2NpYWxTdmMiLCJnZXRTZXgiLCJzZXhfZGF0YSIsInNleCIsIm1hbGVfZGF0YSIsImxhYmVsIiwicHVzaCIsImZlbWFsZV9kYXRhIiwiJCIsInBsb3QiLCJzZXJpZXMiLCJwaWUiLCJzaG93IiwiZ3JpZCIsImhvdmVyYWJsZSIsInRvb2x0aXAiLCJ0b29sdGlwT3B0cyIsImNvbnRlbnQiLCJzaGlmdHMiLCJ4IiwieSIsImRlZmF1bHRUaGVtZSIsImdldERyaXZlIiwiZHJpdmVfZGF0YSIsImRyaXZlX2xpY2Vuc2UiLCJnZXRBZ2UiLCJhZ2VfZGF0YSIsImFnZSIsImdldEluY29tZSIsImluY29tZV9kYXRhIiwiaW5jb21lIiwiVXNlclN2YyIsInJlZnJlc2hVcGRhdGUiLCJ1c2VycyIsIm5hbWUiLCJwYXNzd29yZCIsInJlZnJlc2hEZWxldGUiLCJzcGxpY2UiLCJlZGl0IiwiZGVsZXRlSWQiLCJmZXRjaCIsInNhdmVVc2VyIiwibW9kaWZ5IiwiaWQiLCJjcmVhdGUiLCJ1bnNoaWZ0IiwiZWRpdFVzZXIiLCJkZWxldGVDb25maXJtIiwibW9kYWwiLCJkZWxldGVVc2VyIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBUUMsT0FBTyxPQUNYLFlDREpELFFBQVFDLE9BQU8sT0FDZEMsV0FBVyxZQUFBLFNBQVksU0FBVUMsT0NEbENILFFBQVFDLE9BQU8sT0FDZEMsV0FBVyxhQUFBLFNBQUEsV0FBYSxTQUFTQyxFQUFRQyxHQUV6Q0QsRUFBT0UsYUFDUEYsRUFBT0csY0FFUEgsRUFBT0ksZUFBaUIsV0FDdkJILEVBQVNHLGlCQUNSQyxRQUFRLFNBQVNDLEdBQ2pCTixFQUFPRSxVQUFZSSxFQUFNQyxRQUszQlAsRUFBT0ksaUJBRVBKLEVBQU9RLFdBQWEsU0FBU0MsR0FDNUJDLFFBQVFDLElBQUksY0FDWlYsRUFBU1csZUFBZUMsT0FBT0osSUFDOUJKLFFBQVEsU0FBU0MsR0FDakJOLEVBQU9HLFdBQWFHLEVBQU1DLFdDcEI3QlYsUUFBUUMsT0FBTyxPQUNkZ0IsUUFBUSxZQUFBLFFBQVksU0FBU0MsR0FDN0JDLEtBQUtaLGVBQWlCLFdBQ3JCLE1BQU9XLEdBQU1FLEtBQUssa0NBR25CRCxLQUFLSixjQUFnQixTQUFTTSxHQUM3QixNQUFPSCxHQUFNRSxLQUFLLDBCQUEyQkMsT0NQL0NyQixRQUFRQyxPQUFPLE9BQ2RDLFdBQVcsaUJBQUEsU0FBQSxlQUFpQixTQUFT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V0FDbkJ6QyxFQUFFLGlCQUFpQndDLE1BQU0sUUFDekJqQixFQUFRbUIsUUFBUXhFLElBQUsxQixFQUFPdUYsV0FDM0JsRixRQUFRLFNBQVNFLEdBQ2pCNkUsRUFBY3BGLEVBQU91RixnQkNqRHhCMUYsUUFBUUMsT0FBTyxPQUNkZ0IsUUFBUSxXQUFBLFFBQVcsU0FBU0MsR0FDNUJDLEtBQUt3RSxNQUFRLFdBQ1osTUFBT3pFLEdBQU1FLEtBQUssc0JBRW5CRCxLQUFLNEUsT0FBUyxTQUFTMUUsR0FDdEIsTUFBT0gsR0FBTUUsS0FBSyxnQkFBaUJDLElBRXBDRixLQUFLMEUsT0FBUyxTQUFTeEUsR0FDdEIsTUFBT0gsR0FBTUUsS0FBSyxtQkFBb0JDLElBRXZDRixLQUFLa0YsT0FBUyxTQUFTaEYsR0FDdEIsTUFBT0gsR0FBTUUsS0FBSyxtQkFBb0JDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAnbmdSb3V0ZSdcclxuXSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG5cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdQb2ludEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFBvaW50U3ZjKXtcclxuXHJcblx0JHNjb3BlLnBvaW50TGlzdCA9IFtdO1xyXG5cdCRzY29wZS50cmF2ZWxMaXN0ID0gW107XHJcblx0XHJcblx0JHNjb3BlLmdldFJhbmtpbmdMaXN0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRQb2ludFN2Yy5nZXRSYW5raW5nTGlzdCgpXHJcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xyXG5cdFx0XHQkc2NvcGUucG9pbnRMaXN0ID0gZGF0YXMuZGF0YTtcclxuXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmdldFJhbmtpbmdMaXN0KCk7XHJcblxyXG5cdCRzY29wZS52aWV3VHJhdmVsID0gZnVuY3Rpb24oZW1haWwpIHtcclxuXHRcdGNvbnNvbGUubG9nKCd2aWV3VHJhdmVsJyk7XHJcblx0XHRQb2ludFN2Yy5nZXRUcmF2ZWxMaXN0KHt1c2VySWQ6ZW1haWx9KVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YXMpIHtcclxuXHRcdFx0JHNjb3BlLnRyYXZlbExpc3QgPSBkYXRhcy5kYXRhO1xyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdQb2ludFN2YycsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0dGhpcy5nZXRSYW5raW5nTGlzdCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL3BvaW50L2dldFJhbmtpbmdMaXN0Jyk7XHJcblx0fVxyXG5cclxuXHR0aGlzLmdldFRyYXZlbExpc3QgPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvdHJhdmVsL2dldGxpc3QnLCB1c2VyKTtcclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1Jlc2lkZW5jZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFJlc2lkZW5jZVN2Yyl7XG5cdFxuXHQkc2NvcGUuZ2V0VHJhZmZpYyA9IGZ1bmN0aW9uKCkge1xuXHRcdFJlc2lkZW5jZVN2Yy5nZXRUcmFmZmljKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIHJlc2lkZW5jZV9kYXRhID0gZGF0YXMuZGF0YTtcblx0XHRcdC8vY29uc29sZS5sb2coJ3Jlc2lkZW5jZV9kYXRhIGRhdGE6JyArIHNleF9kYXRhWzBdLl9pZC5zZXgpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IFt7cGVyaW9kOiAn7JWE7KO867aI66eM7KGxJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrtojrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+uztO2GtScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn66eM7KGxJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp6TsmrDrp4zsobEnLHZhbHVlOiAwfV07XG5cblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgcmVzaWRlbmNlX2RhdGEubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0aWYocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVswXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjJcIikge1xuXHRcdFx0XHRcdGRhdGFbMV0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIzXCIpIHtcblx0XHRcdFx0XHRkYXRhWzJdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNFwiKSB7XG5cdFx0XHRcdFx0ZGF0YVszXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjVcIikge1xuXHRcdFx0XHRcdGRhdGFbNF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgTW9ycmlzLkJhcih7XG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtdHJhZmZpYy1jaGFydCcsXG5cdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgICAgICAgIHhrZXk6ICdwZXJpb2QnLFxuXHQgICAgICAgICAgICB5a2V5czogWyd2YWx1ZSddLFxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn64yA7KSR6rWQ7Ya1IOunjOyhseuPhCddLFxuXHQgICAgICAgICAgICBwb2ludFNpemU6IDIsXG5cdCAgICAgICAgICAgIGhpZGVIb3ZlcjogJ2F1dG8nLFxuXHQgICAgICAgICAgICByZXNpemU6IHRydWVcblx0ICAgICAgICB9KTtcblx0XHR9KVxuXHR9XG5cblx0JHNjb3BlLmdldENvbW1lcmNpYWwgPSBmdW5jdGlvbigpIHtcblx0XHRSZXNpZGVuY2VTdmMuZ2V0Q29tbWVyY2lhbCgpXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YXMpIHtcblx0XHRcdHZhciByZXNpZGVuY2VfZGF0YSA9IGRhdGFzLmRhdGE7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCdyZXNpZGVuY2VfZGF0YSBkYXRhOicgKyBzZXhfZGF0YVswXS5faWQuc2V4KTtcblxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJ+yVhOyjvOu2iOunjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn67aI66eM7KGxJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrs7TthrUnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+unjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn66ek7Jqw66eM7KGxJyx2YWx1ZTogMH1dO1xuXG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IHJlc2lkZW5jZV9kYXRhLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGlmKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjFcIikge1xuXHRcdFx0XHRcdGRhdGFbMF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIyXCIpIHtcblx0XHRcdFx0XHRkYXRhWzFdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiM1wiKSB7XG5cdFx0XHRcdFx0ZGF0YVsyXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjRcIikge1xuXHRcdFx0XHRcdGRhdGFbM10udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI1XCIpIHtcblx0XHRcdFx0XHRkYXRhWzRdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH1cblx0XHRcdH1cblxuXHQgICAgICAgIE1vcnJpcy5CYXIoe1xuXHQgICAgICAgICAgICBlbGVtZW50OiAnbW9ycmlzLWNvbW1lcmNpYWwtY2hhcnQnLFxuXHQgICAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgICB4a2V5OiAncGVyaW9kJyxcblx0ICAgICAgICAgICAgeWtleXM6IFsndmFsdWUnXSxcblx0ICAgICAgICAgICAgbGFiZWxzOiBbJ+uMgOykkeq1kO2GtSDrp4zsobHrj4QnXSxcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRMZWlzdXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0UmVzaWRlbmNlU3ZjLmdldExlaXN1cmUoKVxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XG5cdFx0XHR2YXIgcmVzaWRlbmNlX2RhdGEgPSBkYXRhcy5kYXRhO1xuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVzaWRlbmNlX2RhdGEgZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XG5cblx0XHRcdHZhciBkYXRhID0gW3twZXJpb2Q6ICfslYTso7zrtojrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+u2iOunjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn67O07Ya1Jyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+unpOyasOunjOyhsScsdmFsdWU6IDB9XTtcblxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCByZXNpZGVuY2VfZGF0YS5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcblx0XHRcdFx0XHRkYXRhWzBdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMlwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjNcIikge1xuXHRcdFx0XHRcdGRhdGFbMl0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcblx0XHRcdFx0XHRkYXRhWzNdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1sZWlzdXJlLWNoYXJ0Jyxcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ3ZhbHVlJ10sXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfrjIDspJHqtZDthrUg66eM7KGx64+EJ10sXG5cdCAgICAgICAgICAgIHBvaW50U2l6ZTogMixcblx0ICAgICAgICAgICAgaGlkZUhvdmVyOiAnYXV0bycsXG5cdCAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuZ2V0R3JlZW4gPSBmdW5jdGlvbigpIHtcblx0XHRSZXNpZGVuY2VTdmMuZ2V0R3JlZW4oKVxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XG5cdFx0XHR2YXIgcmVzaWRlbmNlX2RhdGEgPSBkYXRhcy5kYXRhO1xuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVzaWRlbmNlX2RhdGEgZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XG5cblx0XHRcdHZhciBkYXRhID0gW3twZXJpb2Q6ICfslYTso7zrtojrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+u2iOunjOyhsScsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAn67O07Ya1Jyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp4zsobEnLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJ+unpOyasOunjOyhsScsdmFsdWU6IDB9XTtcblxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCByZXNpZGVuY2VfZGF0YS5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcblx0XHRcdFx0XHRkYXRhWzBdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMlwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjNcIikge1xuXHRcdFx0XHRcdGRhdGFbMl0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcblx0XHRcdFx0XHRkYXRhWzNdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1ncmVlbi1jaGFydCcsXG5cdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgICAgICAgIHhrZXk6ICdwZXJpb2QnLFxuXHQgICAgICAgICAgICB5a2V5czogWyd2YWx1ZSddLFxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn64W57KeAIOunjOyhseuPhCddLFxuXHQgICAgICAgICAgICBwb2ludFNpemU6IDIsXG5cdCAgICAgICAgICAgIGhpZGVIb3ZlcjogJ2F1dG8nLFxuXHQgICAgICAgICAgICByZXNpemU6IHRydWVcblx0ICAgICAgICB9KTtcblx0XHR9KVxuXHR9XG5cblx0JHNjb3BlLmdldEFyZWE9IGZ1bmN0aW9uKCkge1xuXHRcdFJlc2lkZW5jZVN2Yy5nZXRBcmVhKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIHJlc2lkZW5jZV9kYXRhID0gZGF0YXMuZGF0YTtcblx0XHRcdC8vY29uc29sZS5sb2coJ3Jlc2lkZW5jZV9kYXRhIGRhdGE6JyArIHNleF9kYXRhWzBdLl9pZC5zZXgpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IFt7cGVyaW9kOiAnNDkuNW0y7J207ZWYJyx2YWx1ZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICc0OS41OH41OS40bTInLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzU5LjV+NzkuMzJtMicsdmFsdWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnNzkuMzN+MTA1Ljc4bTInLHZhbHVlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzEwNS43OW0yficsdmFsdWU6IDB9XTtcblxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCByZXNpZGVuY2VfZGF0YS5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcblx0XHRcdFx0XHRkYXRhWzBdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMlwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjNcIikge1xuXHRcdFx0XHRcdGRhdGFbMl0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcblx0XHRcdFx0XHRkYXRhWzNdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1hcmVhLWNoYXJ0Jyxcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ3ZhbHVlJ10sXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfqsbDso7zrqbTsoIEnXSxcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRUcmFmZmljKCk7XG5cdCRzY29wZS5nZXRDb21tZXJjaWFsKCk7XG5cdCRzY29wZS5nZXRMZWlzdXJlKCk7XG5cdCRzY29wZS5nZXRHcmVlbigpO1xuXHQkc2NvcGUuZ2V0QXJlYSgpO1xufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdSZXNpZGVuY2VTdmMnLCBmdW5jdGlvbigkaHR0cCkge1xuXHR0aGlzLmdldFRyYWZmaWMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0UmVzaWNlbmNlL3RyYWZmaWMnKTtcblx0fVxuXHR0aGlzLmdldENvbW1lcmNpYWwgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0UmVzaWNlbmNlL2NvbW1lcmNpYWwnKTtcblx0fVxuXHR0aGlzLmdldExlaXN1cmUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0UmVzaWNlbmNlL2xlaXN1cmUnKTtcblx0fVxuXHR0aGlzLmdldEdyZWVuID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFJlc2ljZW5jZS9ncmVlbicpO1xuXHR9XG5cdHRoaXMuZ2V0QXJlYSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9hZG1pbi9nZXRSZXNpY2VuY2UvYXJlYScpO1xuXHR9XG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoIFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdC53aGVuKCcvJywge3RlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2FkbWluLmh0bWwnfSlcblx0LndoZW4oJy9zb2NpYWwnLCB7dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvc29jaWFsLmh0bWwnfSlcblx0LndoZW4oJy9yZXNpZGVuY2UnLCB7dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvcmVzaWRlbmNlLmh0bWwnfSlcblx0LndoZW4oJy9wb2ludCcsIHt0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9wb2ludC5odG1sJ30pXG5cdFxuXHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoZmFsc2UpO1xuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignU29jaWFsQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgU29jaWFsU3ZjKXtcblx0XG5cdCRzY29wZS5nZXRTZXggPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0U2V4KClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIHNleF9kYXRhID0gZGF0YXMuZGF0YTtcblx0XHRcdGNvbnNvbGUubG9nKCdzZXggZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XG5cblx0XHRcdHZhciBkYXRhID0gW107XG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IHNleF9kYXRhLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGlmKHNleF9kYXRhW2ldLl9pZC5zZXggPT0gMSkge1xuXHRcdFx0XHRcdHZhciBtYWxlX2RhdGEgPSB7IGxhYmVsOiBcIuyXrOyekFwiLCBkYXRhOiBzZXhfZGF0YVtpXS5jb3VudCB9O1xuXHRcdFx0XHRcdGRhdGEucHVzaChtYWxlX2RhdGEpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciBmZW1hbGVfZGF0YSA9IHsgbGFiZWw6IFwi64Ko7J6QXCIsIGRhdGE6IHNleF9kYXRhW2ldLmNvdW50IH07XG5cdFx0XHRcdFx0ZGF0YS5wdXNoKGZlbWFsZV9kYXRhKTtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgdmFyIHBsb3RPYmogPSAkLnBsb3QoJChcIiNmbG90LXBpZS1jaGFydC1zZXhcIiksIGRhdGEsIHtcblx0ICAgICAgICAgICAgc2VyaWVzOiB7XG5cdCAgICAgICAgICAgICAgICBwaWU6IHtcblx0ICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGdyaWQ6IHtcblx0ICAgICAgICAgICAgICAgIGhvdmVyYWJsZTogdHJ1ZVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxuXHQgICAgICAgICAgICB0b29sdGlwT3B0czoge1xuXHQgICAgICAgICAgICAgICAgY29udGVudDogXCIlcC4wJSwgJXNcIiwgLy8gc2hvdyBwZXJjZW50YWdlcywgcm91bmRpbmcgdG8gMiBkZWNpbWFsIHBsYWNlc1xuXHQgICAgICAgICAgICAgICAgc2hpZnRzOiB7XG5cdCAgICAgICAgICAgICAgICAgICAgeDogMjAsXG5cdCAgICAgICAgICAgICAgICAgICAgeTogMFxuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHRUaGVtZTogZmFsc2Vcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuZ2V0RHJpdmUgPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0RHJpdmUoKVxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XG5cdFx0XHR2YXIgZHJpdmVfZGF0YSA9IGRhdGFzLmRhdGE7XG5cdFx0XHRjb25zb2xlLmxvZygnZHJpdmUgZGF0YTonICsgZHJpdmVfZGF0YVswXS5faWQuZHJpdmVfbGljZW5zZSk7XG5cblx0XHRcdHZhciBkYXRhID0gW3sgbGFiZWw6IFwi7Jq07KCE66m07ZeIIOyGjOyngFwiLCBkYXRhOiAwIH0sIHsgbGFiZWw6IFwi7Jq07KCE66m07ZeIIOuvuOyGjOyngFwiLCBkYXRhOiAwIH1dO1xuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCBkcml2ZV9kYXRhLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGlmKGRyaXZlX2RhdGFbaV0uX2lkLmRyaXZlX2xpY2Vuc2UgPT0gMSkge1xuXHRcdFx0XHRcdGRhdGFbMF0uZGF0YSA9IGRyaXZlX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS5kYXRhID0gZHJpdmVfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgdmFyIHBsb3RPYmogPSAkLnBsb3QoJChcIiNmbG90LXBpZS1jaGFydC1kcml2ZVwiKSwgZGF0YSwge1xuXHQgICAgICAgICAgICBzZXJpZXM6IHtcblx0ICAgICAgICAgICAgICAgIHBpZToge1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgZ3JpZDoge1xuXHQgICAgICAgICAgICAgICAgaG92ZXJhYmxlOiB0cnVlXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHRvb2x0aXA6IHRydWUsXG5cdCAgICAgICAgICAgIHRvb2x0aXBPcHRzOiB7XG5cdCAgICAgICAgICAgICAgICBjb250ZW50OiBcIiVwLjAlLCAlc1wiLCAvLyBzaG93IHBlcmNlbnRhZ2VzLCByb3VuZGluZyB0byAyIGRlY2ltYWwgcGxhY2VzXG5cdCAgICAgICAgICAgICAgICBzaGlmdHM6IHtcblx0ICAgICAgICAgICAgICAgICAgICB4OiAyMCxcblx0ICAgICAgICAgICAgICAgICAgICB5OiAwXG5cdCAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgZGVmYXVsdFRoZW1lOiBmYWxzZVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRBZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0QWdlKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIGFnZV9kYXRhID0gZGF0YXMuZGF0YTtcblxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJzAtMTknLGFnZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICcyMC0yOScsYWdlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzMwLTM5JyxhZ2U6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnNDAtNDknLGFnZTogMH0sXG5cdFx0XHRcdHtwZXJpb2Q6ICc1MC01OScsYWdlOiAwfSxcblx0XHRcdFx0e3BlcmlvZDogJzYwLScsYWdlOiAwfV07XG5cblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgYWdlX2RhdGEubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0aWYoYWdlX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMC0xOVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVswXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAyMC0yOVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAzMC0zOVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsyXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSA0MC00OVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVszXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSA1MC01OVwiKSB7XG5cdFx0XHRcdFx0ZGF0YVs0XS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgXHRkYXRhWzVdLmFnZSA9IGFnZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9XG5cdFx0XHR9XG5cblx0ICAgICAgICBNb3JyaXMuQmFyKHtcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1hZ2UtY2hhcnQnLFxuXHQgICAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgICB4a2V5OiAncGVyaW9kJyxcblx0ICAgICAgICAgICAgeWtleXM6IFsnYWdlJ10sXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfsl7DroLnrjIAnXSxcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5nZXRJbmNvbWUgPSBmdW5jdGlvbigpIHtcblx0XHRTb2NpYWxTdmMuZ2V0SW5jb21lKClcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xuXHRcdFx0dmFyIGluY29tZV9kYXRhID0gZGF0YXMuZGF0YTtcblxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJ34x67Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnMeuwsX4y67Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnMuuwsS0z67Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnM+uwsS0167Cx66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnNeuwsS0x7LKc66eMJyxpbmNvbWU6IDB9LFxuXHRcdFx0XHR7cGVyaW9kOiAnMeyynOunjOydtOyDgScsaW5jb21lOiAwfV07XG5cblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgaW5jb21lX2RhdGEubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0aWYoaW5jb21lX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMC0xMDBcIikge1xuXHRcdFx0XHRcdGRhdGFbMF0uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5jb21lX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMTAwLTIwMFwiKSB7XG5cdFx0XHRcdFx0ZGF0YVsxXS5pbmNvbWUgPSBpbmNvbWVfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNvbWVfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAyMDAtMzAwXCIpIHtcblx0XHRcdFx0XHRkYXRhWzJdLmluY29tZSA9IGluY29tZV9kYXRhW2ldLmNvdW50O1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGluY29tZV9kYXRhW2ldLl9pZCA9PSBcInJhbmdlIDMwMC01MDBcIikge1xuXHRcdFx0XHRcdGRhdGFbM10uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5jb21lX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgNTAwLTEwMDBcIikge1xuXHRcdFx0XHRcdGRhdGFbNF0uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIFx0ZGF0YVs1XS5pbmNvbWUgPSBpbmNvbWVfZGF0YVtpXS5jb3VudDtcblx0ICAgICAgICAgICAgfVxuXHRcdFx0fVxuXG5cdCAgICAgICAgTW9ycmlzLkJhcih7XG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtaW5jb21lLWNoYXJ0Jyxcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ2luY29tZSddLFxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn7IiY7J6FJ10sXG5cdCAgICAgICAgICAgIHBvaW50U2l6ZTogMixcblx0ICAgICAgICAgICAgaGlkZUhvdmVyOiAnYXV0bycsXG5cdCAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuZ2V0U2V4KCk7XG5cdCRzY29wZS5nZXREcml2ZSgpO1xuXHQkc2NvcGUuZ2V0QWdlKCk7XG5cdCRzY29wZS5nZXRJbmNvbWUoKSA7XG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1NvY2lhbFN2YycsIGZ1bmN0aW9uKCRodHRwKSB7XG5cdHRoaXMuZ2V0U2V4ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFNvY2lhbC9zZXgnKTtcblx0fVxuXHR0aGlzLmdldERyaXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFNvY2lhbC9kcml2ZScpO1xuXHR9XG5cdHRoaXMuZ2V0QWdlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFNvY2lhbC9hZ2UnKTtcblx0fVxuXHR0aGlzLmdldEluY29tZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9hZG1pbi9nZXRTb2NpYWwvaW5jb21lJyk7XG5cdH1cbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignVXNlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMpe1xyXG5cdCRzY29wZS5lZGl0ID0gZmFsc2U7XHJcblx0JHNjb3BlLmRlbGV0ZUlkO1xyXG5cdFxyXG5cdFVzZXJTdmMuZmV0Y2goKVxyXG5cdC5zdWNjZXNzKGZ1bmN0aW9uKHVzZXJzKSB7XHJcblx0XHQkc2NvcGUudXNlcnMgPSB1c2VycztcclxuXHR9KVxyXG5cclxuXHQkc2NvcGUuc2F2ZVVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZigkc2NvcGUuZWRpdCkgeyAgLy/siJjsoJVcclxuXHRcdFx0VXNlclN2Yy5tb2RpZnkoeyBfaWQ6ICRzY29wZS5pZCwgIG5hbWU6ICRzY29wZS5uYW1lLCBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkIH0pXHJcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHJlZnJlc2hVcGRhdGUoJHNjb3BlLmlkKTtcclxuXHRcdFx0XHQkc2NvcGUuaWQgPSBudWxsO1xyXG5cdFx0XHRcdCRzY29wZS5uYW1lID0gbnVsbDtcclxuXHRcdFx0XHQkc2NvcGUucGFzc3dvcmQgPW51bGw7XHJcblx0XHRcdFx0JHNjb3BlLmVkaXQgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2UgeyAvL+yDneyEsVxyXG5cdFx0XHRVc2VyU3ZjLmNyZWF0ZSh7IF9pZDogJHNjb3BlLmlkLCAgbmFtZTogJHNjb3BlLm5hbWUsIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmQgfSlcclxuXHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24odXNlcil7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzLnVuc2hpZnQodXNlcik7XHJcblx0XHRcdFx0JHNjb3BlLmlkID0gbnVsbDtcclxuXHRcdFx0XHQkc2NvcGUubmFtZSA9IG51bGw7XHJcblx0XHRcdFx0JHNjb3BlLnBhc3N3b3JkID1udWxsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHRcclxuXHQkc2NvcGUuZWRpdFVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHQkc2NvcGUuZWRpdCA9IHRydWU7XHJcblx0XHQkc2NvcGUuaWQgPSB1c2VyLl9pZDtcclxuXHRcdCRzY29wZS5uYW1lID0gdXNlci5uYW1lO1xyXG5cdFx0JHNjb3BlLnBhc3N3b3JkID11c2VyLnBhc3N3b3JkO1xyXG5cdH1cclxuXHRcclxuXHQkc2NvcGUuZGVsZXRlQ29uZmlybSA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdGNvbnNvbGUubG9nKCd1c2VySWQ6JyArIHVzZXIuX2lkKTtcclxuXHRcdCRzY29wZS5kZWxldGVJZCA9IHVzZXIuX2lkO1xyXG5cdFx0JChcIiNkaWFsb2dEZWxldGVcIikubW9kYWwoJ3Nob3cnKTtcclxuXHR9XHJcblx0XHJcblx0JHNjb3BlLmRlbGV0ZVVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdCQoXCIjZGlhbG9nRGVsZXRlXCIpLm1vZGFsKCdoaWRlJyk7XHJcblx0XHRVc2VyU3ZjLnJlbW92ZSh7X2lkOiAkc2NvcGUuZGVsZXRlSWR9KVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdHJlZnJlc2hEZWxldGUoJHNjb3BlLmRlbGV0ZUlkKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZWZyZXNoVXBkYXRlKHVzZXJJZCkge1xyXG5cdFx0Zm9yKHZhciBpPTA7IGkgPCAkc2NvcGUudXNlcnMubGVuZ3RoIDsgKytpKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd1c2VyOicgKyAkc2NvcGUudXNlcnNbaV0uX2lkKTtcclxuXHRcdFx0aWYgKHVzZXJJZCA9PSAkc2NvcGUudXNlcnNbaV0uX2lkKSB7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzW2ldLm5hbWUgPSAkc2NvcGUubmFtZTtcclxuXHRcdFx0XHQkc2NvcGUudXNlcnNbaV0ucGFzc3dvcmQgPSAkc2NvcGUucGFzc3dvcmQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVmcmVzaERlbGV0ZSh1c2VySWQpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdkZWxldGUgdXNlcklkOicgKyB1c2VySWQpO1xyXG5cdFx0Zm9yKHZhciBpPTA7IGkgPCAkc2NvcGUudXNlcnMubGVuZ3RoIDsgKytpKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd1c2VyOicgKyAkc2NvcGUudXNlcnNbaV0uX2lkKTtcclxuXHRcdFx0aWYgKHVzZXJJZCA9PSAkc2NvcGUudXNlcnNbaV0uX2lkKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2RlbGV0ZWQnKTtcclxuXHRcdFx0XHQkc2NvcGUudXNlcnMuc3BsaWNlKGksIDEpOyAvL2nrsojsp7jrtoDthLAg7ZWt66qp7J2EIDHqsJwg7IKt7KCcXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbigkaHR0cCkge1xuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9nZXRMaXN0Jyk7XG5cdH1cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbih1c2VyKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9hZGQnLCB1c2VyKTtcblx0fVxuXHR0aGlzLm1vZGlmeSA9IGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VyL21vZGlmeScsIHVzZXIpO1xuXHR9XG5cdHRoaXMucmVtb3ZlID0gZnVuY3Rpb24odXNlcikge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXIvcmVtb3ZlJywgdXNlcik7XG5cdH1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
