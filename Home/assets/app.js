angular.module("app",["ngRoute"]),angular.module("app").controller("MainCtrl",["$scope",function(e){}]),angular.module("app").config(["$routeProvider","$locationProvider",function(e,s){e.when("/",{controller:"UserCtrl",templateUrl:"/templates/user.html"}).when("/user",{controller:"UserCtrl",templateUrl:"/templates/user.html"}),s.html5Mode(!0)}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,s){function o(s){for(var o=0;o<e.users.length;++o)console.log("user:"+e.users[o]._id),s==e.users[o]._id&&(e.users[o].name=e.name,e.users[o].password=e.password)}function r(s){console.log("delete userId:"+s);for(var o=0;o<e.users.length;++o)if(console.log("user:"+e.users[o]._id),s==e.users[o]._id)return console.log("deleted"),void e.users.splice(o,1)}e.edit=!1,e.deleteId,s.fetch().success(function(s){e.users=s}),e.saveUser=function(){e.edit?s.modify({_id:e.id,name:e.name,password:e.password}).success(function(s){o(e.id),e.id=null,e.name=null,e.password=null,e.edit=!1}):s.create({_id:e.id,name:e.name,password:e.password}).success(function(s){e.users.unshift(s),e.id=null,e.name=null,e.password=null})},e.editUser=function(s){e.edit=!0,e.id=s._id,e.name=s.name,e.password=s.password},e.deleteConfirm=function(s){console.log("userId:"+s._id),e.deleteId=s._id,$("#dialogDelete").modal("show")},e.deleteUser=function(){$("#dialogDelete").modal("hide"),s.remove({_id:e.deleteId}).success(function(s){r(e.deleteId)})}}]),angular.module("app").service("UserSvc",["$http",function(e){this.fetch=function(){return e.post("/api/user/getList")},this.create=function(s){return e.post("/api/user/add",s)},this.modify=function(s){return e.post("/api/user/modify",s)},this.remove=function(s){return e.post("/api/user/remove",s)}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLmN0cmwuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJodG1sNU1vZGUiLCJVc2VyU3ZjIiwicmVmcmVzaFVwZGF0ZSIsInVzZXJJZCIsImkiLCJ1c2VycyIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJfaWQiLCJuYW1lIiwicGFzc3dvcmQiLCJyZWZyZXNoRGVsZXRlIiwic3BsaWNlIiwiZWRpdCIsImRlbGV0ZUlkIiwiZmV0Y2giLCJzdWNjZXNzIiwic2F2ZVVzZXIiLCJtb2RpZnkiLCJpZCIsImRhdGEiLCJjcmVhdGUiLCJ1c2VyIiwidW5zaGlmdCIsImVkaXRVc2VyIiwiZGVsZXRlQ29uZmlybSIsIiQiLCJtb2RhbCIsImRlbGV0ZVVzZXIiLCJyZW1vdmUiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwicG9zdCJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQVFDLE9BQU8sT0FDWCxZQ0RKRCxRQUFRQyxPQUFPLE9BQ2RDLFdBQVcsWUFBQSxTQUFZLFNBQVVDLE9DRGxDSCxRQUFRQyxPQUFPLE9BQ2RHLFFBQVMsaUJBQWtCLG9CQUFxQixTQUFVQyxFQUFnQkMsR0FDMUVELEVBQ0NFLEtBQUssS0FBTUwsV0FBWSxXQUFZTSxZQUFhLHlCQUNoREQsS0FBSyxTQUFVTCxXQUFZLFdBQVlNLFlBQWEseUJBRXJERixFQUFrQkcsV0FBVSxNQ043QlQsUUFBUUMsT0FBTyxPQUNkQyxXQUFXLFlBQUEsU0FBQSxVQUFZLFNBQVNDLEVBQVFPLEdBb0R4QyxRQUFTQyxHQUFjQyxHQUN0QixJQUFJLEdBQUlDLEdBQUUsRUFBR0EsRUFBSVYsRUFBT1csTUFBTUMsU0FBV0YsRUFDeENHLFFBQVFDLElBQUksUUFBVWQsRUFBT1csTUFBTUQsR0FBR0ssS0FDbENOLEdBQVVULEVBQU9XLE1BQU1ELEdBQUdLLE1BQzdCZixFQUFPVyxNQUFNRCxHQUFHTSxLQUFPaEIsRUFBT2dCLEtBQzlCaEIsRUFBT1csTUFBTUQsR0FBR08sU0FBV2pCLEVBQU9pQixVQUtyQyxRQUFTQyxHQUFjVCxHQUN0QkksUUFBUUMsSUFBSSxpQkFBbUJMLEVBQy9CLEtBQUksR0FBSUMsR0FBRSxFQUFHQSxFQUFJVixFQUFPVyxNQUFNQyxTQUFXRixFQUV4QyxHQURBRyxRQUFRQyxJQUFJLFFBQVVkLEVBQU9XLE1BQU1ELEdBQUdLLEtBQ2xDTixHQUFVVCxFQUFPVyxNQUFNRCxHQUFHSyxJQUc3QixNQUZBRixTQUFRQyxJQUFJLGVBQ1pkLEdBQU9XLE1BQU1RLE9BQU9ULEVBQUcsR0FuRTFCVixFQUFPb0IsTUFBTyxFQUNkcEIsRUFBT3FCLFNBRVBkLEVBQVFlLFFBQ1BDLFFBQVEsU0FBU1osR0FDakJYLEVBQU9XLE1BQVFBLElBR2hCWCxFQUFPd0IsU0FBVyxXQUNkeEIsRUFBT29CLEtBQ1RiLEVBQVFrQixRQUFTVixJQUFLZixFQUFPMEIsR0FBS1YsS0FBTWhCLEVBQU9nQixLQUFNQyxTQUFVakIsRUFBT2lCLFdBQ3JFTSxRQUFRLFNBQVNJLEdBQ2pCbkIsRUFBY1IsRUFBTzBCLElBQ3JCMUIsRUFBTzBCLEdBQUssS0FDWjFCLEVBQU9nQixLQUFPLEtBQ2RoQixFQUFPaUIsU0FBVSxLQUNqQmpCLEVBQU9vQixNQUFPLElBR2ZiLEVBQVFxQixRQUFTYixJQUFLZixFQUFPMEIsR0FBS1YsS0FBTWhCLEVBQU9nQixLQUFNQyxTQUFVakIsRUFBT2lCLFdBQ3JFTSxRQUFRLFNBQVNNLEdBQ2pCN0IsRUFBT1csTUFBTW1CLFFBQVFELEdBQ3JCN0IsRUFBTzBCLEdBQUssS0FDWjFCLEVBQU9nQixLQUFPLEtBQ2RoQixFQUFPaUIsU0FBVSxRQU1wQmpCLEVBQU8rQixTQUFXLFNBQVNGLEdBQzFCN0IsRUFBT29CLE1BQU8sRUFDZHBCLEVBQU8wQixHQUFLRyxFQUFLZCxJQUNqQmYsRUFBT2dCLEtBQU9hLEVBQUtiLEtBQ25CaEIsRUFBT2lCLFNBQVVZLEVBQUtaLFVBR3ZCakIsRUFBT2dDLGNBQWdCLFNBQVNILEdBQy9CaEIsUUFBUUMsSUFBSSxVQUFZZSxFQUFLZCxLQUM3QmYsRUFBT3FCLFNBQVdRLEVBQUtkLElBQ3ZCa0IsRUFBRSxpQkFBaUJDLE1BQU0sU0FHMUJsQyxFQUFPbUMsV0FBYSxXQUNuQkYsRUFBRSxpQkFBaUJDLE1BQU0sUUFDekIzQixFQUFRNkIsUUFBUXJCLElBQUtmLEVBQU9xQixXQUMzQkUsUUFBUSxTQUFTSSxHQUNqQlQsRUFBY2xCLEVBQU9xQixnQkNqRHhCeEIsUUFBUUMsT0FBTyxPQUNkdUMsUUFBUSxXQUFBLFFBQVcsU0FBU0MsR0FDNUJDLEtBQUtqQixNQUFRLFdBQ1osTUFBT2dCLEdBQU1FLEtBQUssc0JBRW5CRCxLQUFLWCxPQUFTLFNBQVNDLEdBQ3RCLE1BQU9TLEdBQU1FLEtBQUssZ0JBQWlCWCxJQUVwQ1UsS0FBS2QsT0FBUyxTQUFTSSxHQUN0QixNQUFPUyxHQUFNRSxLQUFLLG1CQUFvQlgsSUFFdkNVLEtBQUtILE9BQVMsU0FBU1AsR0FDdEIsTUFBT1MsR0FBTUUsS0FBSyxtQkFBb0JYIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAnbmdSb3V0ZSdcclxuXSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdNYWluQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb25maWcoIFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblx0JHJvdXRlUHJvdmlkZXJcclxuXHQud2hlbignLycsIHtjb250cm9sbGVyOiAnVXNlckN0cmwnLCB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvdXNlci5odG1sJ30pXHJcblx0LndoZW4oJy91c2VyJywge2NvbnRyb2xsZXI6ICdVc2VyQ3RybCcsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy91c2VyLmh0bWwnfSlcclxuXHRcclxuXHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1VzZXJDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjKXtcclxuXHQkc2NvcGUuZWRpdCA9IGZhbHNlO1xyXG5cdCRzY29wZS5kZWxldGVJZDtcclxuXHRcclxuXHRVc2VyU3ZjLmZldGNoKClcclxuXHQuc3VjY2VzcyhmdW5jdGlvbih1c2Vycykge1xyXG5cdFx0JHNjb3BlLnVzZXJzID0gdXNlcnM7XHJcblx0fSlcclxuXHJcblx0JHNjb3BlLnNhdmVVc2VyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYoJHNjb3BlLmVkaXQpIHsgIC8v7IiY7KCVXHJcblx0XHRcdFVzZXJTdmMubW9kaWZ5KHsgX2lkOiAkc2NvcGUuaWQsICBuYW1lOiAkc2NvcGUubmFtZSwgcGFzc3dvcmQ6ICRzY29wZS5wYXNzd29yZCB9KVxyXG5cdFx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRyZWZyZXNoVXBkYXRlKCRzY29wZS5pZCk7XHJcblx0XHRcdFx0JHNjb3BlLmlkID0gbnVsbDtcclxuXHRcdFx0XHQkc2NvcGUubmFtZSA9IG51bGw7XHJcblx0XHRcdFx0JHNjb3BlLnBhc3N3b3JkID1udWxsO1xyXG5cdFx0XHRcdCRzY29wZS5lZGl0ID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHsgLy/sg53shLFcclxuXHRcdFx0VXNlclN2Yy5jcmVhdGUoeyBfaWQ6ICRzY29wZS5pZCwgIG5hbWU6ICRzY29wZS5uYW1lLCBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkIH0pXHJcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKHVzZXIpe1xyXG5cdFx0XHRcdCRzY29wZS51c2Vycy51bnNoaWZ0KHVzZXIpO1xyXG5cdFx0XHRcdCRzY29wZS5pZCA9IG51bGw7XHJcblx0XHRcdFx0JHNjb3BlLm5hbWUgPSBudWxsO1xyXG5cdFx0XHRcdCRzY29wZS5wYXNzd29yZCA9bnVsbDtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcblx0XHJcblx0JHNjb3BlLmVkaXRVc2VyID0gZnVuY3Rpb24odXNlcikge1xyXG5cdFx0JHNjb3BlLmVkaXQgPSB0cnVlO1xyXG5cdFx0JHNjb3BlLmlkID0gdXNlci5faWQ7XHJcblx0XHQkc2NvcGUubmFtZSA9IHVzZXIubmFtZTtcclxuXHRcdCRzY29wZS5wYXNzd29yZCA9dXNlci5wYXNzd29yZDtcclxuXHR9XHJcblx0XHJcblx0JHNjb3BlLmRlbGV0ZUNvbmZpcm0gPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHRjb25zb2xlLmxvZygndXNlcklkOicgKyB1c2VyLl9pZCk7XHJcblx0XHQkc2NvcGUuZGVsZXRlSWQgPSB1c2VyLl9pZDtcclxuXHRcdCQoXCIjZGlhbG9nRGVsZXRlXCIpLm1vZGFsKCdzaG93Jyk7XHJcblx0fVxyXG5cdFxyXG5cdCRzY29wZS5kZWxldGVVc2VyID0gZnVuY3Rpb24oKSB7XHJcblx0XHQkKFwiI2RpYWxvZ0RlbGV0ZVwiKS5tb2RhbCgnaGlkZScpO1xyXG5cdFx0VXNlclN2Yy5yZW1vdmUoe19pZDogJHNjb3BlLmRlbGV0ZUlkfSlcclxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRyZWZyZXNoRGVsZXRlKCRzY29wZS5kZWxldGVJZCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVmcmVzaFVwZGF0ZSh1c2VySWQpIHtcclxuXHRcdGZvcih2YXIgaT0wOyBpIDwgJHNjb3BlLnVzZXJzLmxlbmd0aCA7ICsraSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygndXNlcjonICsgJHNjb3BlLnVzZXJzW2ldLl9pZCk7XHJcblx0XHRcdGlmICh1c2VySWQgPT0gJHNjb3BlLnVzZXJzW2ldLl9pZCkge1xyXG5cdFx0XHRcdCRzY29wZS51c2Vyc1tpXS5uYW1lID0gJHNjb3BlLm5hbWU7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzW2ldLnBhc3N3b3JkID0gJHNjb3BlLnBhc3N3b3JkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHJlZnJlc2hEZWxldGUodXNlcklkKSB7XHJcblx0XHRjb25zb2xlLmxvZygnZGVsZXRlIHVzZXJJZDonICsgdXNlcklkKTtcclxuXHRcdGZvcih2YXIgaT0wOyBpIDwgJHNjb3BlLnVzZXJzLmxlbmd0aCA7ICsraSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygndXNlcjonICsgJHNjb3BlLnVzZXJzW2ldLl9pZCk7XHJcblx0XHRcdGlmICh1c2VySWQgPT0gJHNjb3BlLnVzZXJzW2ldLl9pZCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdkZWxldGVkJyk7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzLnNwbGljZShpLCAxKTsgLy9p67KI7Ke467aA7YSwIO2VreuqqeydhCAx6rCcIOyCreygnFxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24oJGh0dHApIHtcblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXIvZ2V0TGlzdCcpO1xuXHR9XG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24odXNlcikge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXIvYWRkJywgdXNlcik7XG5cdH1cblx0dGhpcy5tb2RpZnkgPSBmdW5jdGlvbih1c2VyKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9tb2RpZnknLCB1c2VyKTtcblx0fVxuXHR0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VyL3JlbW92ZScsIHVzZXIpO1xuXHR9XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=