angular.module("app",["ngRoute"]),angular.module("app").controller("MainCtrl",["$scope",function(e){}]),angular.module("app").controller("ResidenceCtrl",["$scope","ResidenceSvc",function(e,i){e.getTraffic=function(){i.getTraffic().success(function(e){for(var i=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],a=0;a<i.length;++a)"1"==i[a]._id.value?o[0].value=i[a].count:"2"==i[a]._id.value?o[1].value=i[a].count:"3"==i[a]._id.value?o[2].value=i[a].count:"4"==i[a]._id.value?o[3].value=i[a].count:"5"==i[a]._id.value&&(o[4].value=i[a].count);Morris.Bar({element:"morris-traffic-chart",data:o,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getCommercial=function(){i.getCommercial().success(function(e){for(var i=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],a=0;a<i.length;++a)"1"==i[a]._id.value?o[0].value=i[a].count:"2"==i[a]._id.value?o[1].value=i[a].count:"3"==i[a]._id.value?o[2].value=i[a].count:"4"==i[a]._id.value?o[3].value=i[a].count:"5"==i[a]._id.value&&(o[4].value=i[a].count);Morris.Bar({element:"morris-commercial-chart",data:o,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getLeisure=function(){i.getLeisure().success(function(e){for(var i=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],a=0;a<i.length;++a)"1"==i[a]._id.value?o[0].value=i[a].count:"2"==i[a]._id.value?o[1].value=i[a].count:"3"==i[a]._id.value?o[2].value=i[a].count:"4"==i[a]._id.value?o[3].value=i[a].count:"5"==i[a]._id.value&&(o[4].value=i[a].count);Morris.Bar({element:"morris-leisure-chart",data:o,xkey:"period",ykeys:["value"],labels:["대중교통 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getGreen=function(){i.getGreen().success(function(e){for(var i=e.data,o=[{period:"아주불만족",value:0},{period:"불만족",value:0},{period:"보통",value:0},{period:"만족",value:0},{period:"매우만족",value:0}],a=0;a<i.length;++a)"1"==i[a]._id.value?o[0].value=i[a].count:"2"==i[a]._id.value?o[1].value=i[a].count:"3"==i[a]._id.value?o[2].value=i[a].count:"4"==i[a]._id.value?o[3].value=i[a].count:"5"==i[a]._id.value&&(o[4].value=i[a].count);Morris.Bar({element:"morris-green-chart",data:o,xkey:"period",ykeys:["value"],labels:["녹지 만족도"],pointSize:2,hideHover:"auto",resize:!0})})},e.getArea=function(){i.getArea().success(function(e){for(var i=e.data,o=[{period:"49.5m2이하",value:0},{period:"49.58~59.4m2",value:0},{period:"59.5~79.32m2",value:0},{period:"79.33~105.78m2",value:0},{period:"105.79m2~",value:0}],a=0;a<i.length;++a)"1"==i[a]._id.value?o[0].value=i[a].count:"2"==i[a]._id.value?o[1].value=i[a].count:"3"==i[a]._id.value?o[2].value=i[a].count:"4"==i[a]._id.value?o[3].value=i[a].count:"5"==i[a]._id.value&&(o[4].value=i[a].count);Morris.Bar({element:"morris-area-chart",data:o,xkey:"period",ykeys:["value"],labels:["거주면적"],pointSize:2,hideHover:"auto",resize:!0})})},e.getTraffic(),e.getCommercial(),e.getLeisure(),e.getGreen(),e.getArea()}]),angular.module("app").service("ResidenceSvc",["$http",function(e){this.getTraffic=function(){return e.post("/api/lol/admin/getResicence/traffic")},this.getCommercial=function(){return e.post("/api/lol/admin/getResicence/commercial")},this.getLeisure=function(){return e.post("/api/lol/admin/getResicence/leisure")},this.getGreen=function(){return e.post("/api/lol/admin/getResicence/green")},this.getArea=function(){return e.post("/api/lol/admin/getResicence/area")}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(e,i){e.when("/",{templateUrl:"templates/admin.html"}).when("/social",{templateUrl:"templates/social.html"}).when("/residence",{templateUrl:"templates/residence.html"}),i.html5Mode(!1),i.hashPrefix("!")}]),angular.module("app").controller("SocialCtrl",["$scope","SocialSvc",function(e,i){e.getSex=function(){i.getSex().success(function(e){var i=e.data;console.log("sex data:"+i[0]._id.sex);for(var o=[],a=0;a<i.length;++a)if(1==i[a]._id.sex){var t={label:"여자",data:i[a].count};o.push(t)}else{var r={label:"남자",data:i[a].count};o.push(r)}$.plot($("#flot-pie-chart-sex"),o,{series:{pie:{show:!0}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})})},e.getDrive=function(){i.getDrive().success(function(e){var i=e.data;console.log("drive data:"+i[0]._id.drive_license);for(var o=[{label:"운전면허 소지",data:0},{label:"운전면허 미소지",data:0}],a=0;a<i.length;++a)1==i[a]._id.drive_license?o[0].data=i[a].count:o[1].data=i[a].count;$.plot($("#flot-pie-chart-drive"),o,{series:{pie:{show:!0}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})})},e.getAge=function(){i.getAge().success(function(e){for(var i=e.data,o=[{period:"0-19",age:0},{period:"20-29",age:0},{period:"30-39",age:0},{period:"40-49",age:0},{period:"50-59",age:0},{period:"60-",age:0}],a=0;a<i.length;++a)"range 0-19"==i[a]._id?o[0].age=i[a].count:"range 20-29"==i[a]._id?o[1].age=i[a].count:"range 30-39"==i[a]._id?o[2].age=i[a].count:"range 40-49"==i[a]._id?o[3].age=i[a].count:"range 50-59"==i[a]._id?o[4].age=i[a].count:o[5].age=i[a].count;Morris.Bar({element:"morris-age-chart",data:o,xkey:"period",ykeys:["age"],labels:["연령대"],pointSize:2,hideHover:"auto",resize:!0})})},e.getIncome=function(){i.getIncome().success(function(e){for(var i=e.data,o=[{period:"~1백만",income:0},{period:"1백~2백만",income:0},{period:"2백-3백만",income:0},{period:"3백-5백만",income:0},{period:"5백-1천만",income:0},{period:"1천만이상",income:0}],a=0;a<i.length;++a)"range 0-100"==i[a]._id?o[0].income=i[a].count:"range 100-200"==i[a]._id?o[1].income=i[a].count:"range 200-300"==i[a]._id?o[2].income=i[a].count:"range 300-500"==i[a]._id?o[3].income=i[a].count:"range 500-1000"==i[a]._id?o[4].income=i[a].count:o[5].income=i[a].count;Morris.Bar({element:"morris-income-chart",data:o,xkey:"period",ykeys:["income"],labels:["수입"],pointSize:2,hideHover:"auto",resize:!0})})},e.getSex(),e.getDrive(),e.getAge(),e.getIncome()}]),angular.module("app").service("SocialSvc",["$http",function(e){this.getSex=function(){return e.post("/api/lol/admin/getSocial/sex")},this.getDrive=function(){return e.post("/api/lol/admin/getSocial/drive")},this.getAge=function(){return e.post("/api/lol/admin/getSocial/age")},this.getIncome=function(){return e.post("/api/lol/admin/getSocial/income")}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc",function(e,i){function o(i){for(var o=0;o<e.users.length;++o)console.log("user:"+e.users[o]._id),i==e.users[o]._id&&(e.users[o].name=e.name,e.users[o].password=e.password)}function a(i){console.log("delete userId:"+i);for(var o=0;o<e.users.length;++o)if(console.log("user:"+e.users[o]._id),i==e.users[o]._id)return console.log("deleted"),void e.users.splice(o,1)}e.edit=!1,e.deleteId,i.fetch().success(function(i){e.users=i}),e.saveUser=function(){e.edit?i.modify({_id:e.id,name:e.name,password:e.password}).success(function(i){o(e.id),e.id=null,e.name=null,e.password=null,e.edit=!1}):i.create({_id:e.id,name:e.name,password:e.password}).success(function(i){e.users.unshift(i),e.id=null,e.name=null,e.password=null})},e.editUser=function(i){e.edit=!0,e.id=i._id,e.name=i.name,e.password=i.password},e.deleteConfirm=function(i){console.log("userId:"+i._id),e.deleteId=i._id,$("#dialogDelete").modal("show")},e.deleteUser=function(){$("#dialogDelete").modal("hide"),i.remove({_id:e.deleteId}).success(function(i){a(e.deleteId)})}}]),angular.module("app").service("UserSvc",["$http",function(e){this.fetch=function(){return e.post("/api/user/getList")},this.create=function(i){return e.post("/api/user/add",i)},this.modify=function(i){return e.post("/api/user/modify",i)},this.remove=function(i){return e.post("/api/user/remove",i)}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJyZXNpZGVuY2UuY3RybC5qcyIsInJlc2lkZW5jZS5zdmMuanMiLCJyb3V0ZXMuanMiLCJzb2NpYWwuY3RybC5qcyIsInNvY2lhbC5zdmMuanMiLCJ1c2VyLmN0cmwuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlJlc2lkZW5jZVN2YyIsImdldFRyYWZmaWMiLCJzdWNjZXNzIiwiZGF0YXMiLCJyZXNpZGVuY2VfZGF0YSIsImRhdGEiLCJwZXJpb2QiLCJ2YWx1ZSIsImkiLCJsZW5ndGgiLCJfaWQiLCJjb3VudCIsIk1vcnJpcyIsIkJhciIsImVsZW1lbnQiLCJ4a2V5IiwieWtleXMiLCJsYWJlbHMiLCJwb2ludFNpemUiLCJoaWRlSG92ZXIiLCJyZXNpemUiLCJnZXRDb21tZXJjaWFsIiwiZ2V0TGVpc3VyZSIsImdldEdyZWVuIiwiZ2V0QXJlYSIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJwb3N0IiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImh0bWw1TW9kZSIsImhhc2hQcmVmaXgiLCJTb2NpYWxTdmMiLCJnZXRTZXgiLCJzZXhfZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzZXgiLCJtYWxlX2RhdGEiLCJsYWJlbCIsInB1c2giLCJmZW1hbGVfZGF0YSIsIiQiLCJwbG90Iiwic2VyaWVzIiwicGllIiwic2hvdyIsImdyaWQiLCJob3ZlcmFibGUiLCJ0b29sdGlwIiwidG9vbHRpcE9wdHMiLCJjb250ZW50Iiwic2hpZnRzIiwieCIsInkiLCJkZWZhdWx0VGhlbWUiLCJnZXREcml2ZSIsImRyaXZlX2RhdGEiLCJkcml2ZV9saWNlbnNlIiwiZ2V0QWdlIiwiYWdlX2RhdGEiLCJhZ2UiLCJnZXRJbmNvbWUiLCJpbmNvbWVfZGF0YSIsImluY29tZSIsIlVzZXJTdmMiLCJyZWZyZXNoVXBkYXRlIiwidXNlcklkIiwidXNlcnMiLCJuYW1lIiwicGFzc3dvcmQiLCJyZWZyZXNoRGVsZXRlIiwic3BsaWNlIiwiZWRpdCIsImRlbGV0ZUlkIiwiZmV0Y2giLCJzYXZlVXNlciIsIm1vZGlmeSIsImlkIiwiY3JlYXRlIiwidXNlciIsInVuc2hpZnQiLCJlZGl0VXNlciIsImRlbGV0ZUNvbmZpcm0iLCJtb2RhbCIsImRlbGV0ZVVzZXIiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRQyxPQUFPLE9BQ1gsWUNESkQsUUFBUUMsT0FBTyxPQUNkQyxXQUFXLFlBQUEsU0FBWSxTQUFVQyxPQ0RsQ0gsUUFBUUMsT0FBTyxPQUNkQyxXQUFXLGlCQUFBLFNBQUEsZUFBaUIsU0FBU0MsRUFBUUMsR0FFN0NELEVBQU9FLFdBQWEsV0FDbkJELEVBQWFDLGFBQ1pDLFFBQVEsU0FBU0MsR0FVakIsSUFBSSxHQVRBQyxHQUFpQkQsRUFBTUUsS0FHdkJBLElBQVNDLE9BQVEsUUFBUUMsTUFBTyxJQUNsQ0QsT0FBUSxNQUFNQyxNQUFPLElBQ3JCRCxPQUFRLEtBQUtDLE1BQU8sSUFDcEJELE9BQVEsS0FBS0MsTUFBTyxJQUNwQkQsT0FBUSxPQUFPQyxNQUFPLElBRWhCQyxFQUFFLEVBQUdBLEVBQUlKLEVBQWVLLFNBQVVELEVBQ1AsS0FBL0JKLEVBQWVJLEdBQUdFLElBQUlILE1BQ3hCRixFQUFLLEdBQUdFLE1BQVFILEVBQWVJLEdBQUdHLE1BQ2dCLEtBQS9CUCxFQUFlSSxHQUFHRSxJQUFJSCxNQUN6Q0YsRUFBSyxHQUFHRSxNQUFRSCxFQUFlSSxHQUFHRyxNQUNnQixLQUEvQlAsRUFBZUksR0FBR0UsSUFBSUgsTUFDekNGLEVBQUssR0FBR0UsTUFBUUgsRUFBZUksR0FBR0csTUFDZ0IsS0FBL0JQLEVBQWVJLEdBQUdFLElBQUlILE1BQ3pDRixFQUFLLEdBQUdFLE1BQVFILEVBQWVJLEdBQUdHLE1BQ2dCLEtBQS9CUCxFQUFlSSxHQUFHRSxJQUFJSCxRQUN6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QVNGLEdBQzFCckYsRUFBTzhFLE1BQU8sRUFDZDlFLEVBQU9tRixHQUFLRSxFQUFLMUUsSUFDakJYLEVBQU8wRSxLQUFPVyxFQUFLWCxLQUNuQjFFLEVBQU8yRSxTQUFVVSxFQUFLVixVQUd2QjNFLEVBQU93RixjQUFnQixTQUFTSCxHQUMvQjdDLFFBQVFDLElBQUksVUFBWTRDLEVBQUsxRSxLQUM3QlgsRUFBTytFLFNBQVdNLEVBQUsxRSxJQUN2Qm9DLEVBQUUsaUJBQWlCMEMsTUFBTSxTQUcxQnpGLEVBQU8wRixXQUFhLFdBQ25CM0MsRUFBRSxpQkFBaUIwQyxNQUFNLFFBQ3pCbkIsRUFBUXFCLFFBQVFoRixJQUFLWCxFQUFPK0UsV0FDM0I1RSxRQUFRLFNBQVNHLEdBQ2pCc0UsRUFBYzVFLEVBQU8rRSxnQkNqRHhCbEYsUUFBUUMsT0FBTyxPQUNkNEIsUUFBUSxXQUFBLFFBQVcsU0FBU0MsR0FDNUJDLEtBQUtvRCxNQUFRLFdBQ1osTUFBT3JELEdBQU1FLEtBQUssc0JBRW5CRCxLQUFLd0QsT0FBUyxTQUFTQyxHQUN0QixNQUFPMUQsR0FBTUUsS0FBSyxnQkFBaUJ3RCxJQUVwQ3pELEtBQUtzRCxPQUFTLFNBQVNHLEdBQ3RCLE1BQU8xRCxHQUFNRSxLQUFLLG1CQUFvQndELElBRXZDekQsS0FBSytELE9BQVMsU0FBU04sR0FDdEIsTUFBTzFELEdBQU1FLEtBQUssbUJBQW9Cd0QiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICduZ1JvdXRlJ1xyXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1Jlc2lkZW5jZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFJlc2lkZW5jZVN2Yyl7XHJcblx0XHJcblx0JHNjb3BlLmdldFRyYWZmaWMgPSBmdW5jdGlvbigpIHtcclxuXHRcdFJlc2lkZW5jZVN2Yy5nZXRUcmFmZmljKClcclxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XHJcblx0XHRcdHZhciByZXNpZGVuY2VfZGF0YSA9IGRhdGFzLmRhdGE7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ3Jlc2lkZW5jZV9kYXRhIGRhdGE6JyArIHNleF9kYXRhWzBdLl9pZC5zZXgpO1xyXG5cclxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJ+yVhOyjvOu2iOunjOyhsScsdmFsdWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICfrtojrp4zsobEnLHZhbHVlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAn67O07Ya1Jyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJ+unjOyhsScsdmFsdWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp6TsmrDrp4zsobEnLHZhbHVlOiAwfV07XHJcblxyXG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IHJlc2lkZW5jZV9kYXRhLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdFx0aWYocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMVwiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzBdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIyXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMV0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjNcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVsyXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNFwiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzNdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI1XCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbNF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9XHJcblx0XHRcdH1cclxuXHJcblx0ICAgICAgICBNb3JyaXMuQmFyKHtcclxuXHQgICAgICAgICAgICBlbGVtZW50OiAnbW9ycmlzLXRyYWZmaWMtY2hhcnQnLFxyXG5cdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXHJcblx0ICAgICAgICAgICAgeWtleXM6IFsndmFsdWUnXSxcclxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn64yA7KSR6rWQ7Ya1IOunjOyhseuPhCddLFxyXG5cdCAgICAgICAgICAgIHBvaW50U2l6ZTogMixcclxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcclxuXHQgICAgICAgICAgICByZXNpemU6IHRydWVcclxuXHQgICAgICAgIH0pO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5nZXRDb21tZXJjaWFsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRSZXNpZGVuY2VTdmMuZ2V0Q29tbWVyY2lhbCgpXHJcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xyXG5cdFx0XHR2YXIgcmVzaWRlbmNlX2RhdGEgPSBkYXRhcy5kYXRhO1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdyZXNpZGVuY2VfZGF0YSBkYXRhOicgKyBzZXhfZGF0YVswXS5faWQuc2V4KTtcclxuXHJcblx0XHRcdHZhciBkYXRhID0gW3twZXJpb2Q6ICfslYTso7zrtojrp4zsobEnLHZhbHVlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAn67aI66eM7KGxJyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJ+uztO2GtScsdmFsdWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICfrp4zsobEnLHZhbHVlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAn66ek7Jqw66eM7KGxJyx2YWx1ZTogMH1dO1xyXG5cclxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCByZXNpZGVuY2VfZGF0YS5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRcdGlmKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjFcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVswXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiMlwiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzFdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIzXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMl0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjRcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVszXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiNVwiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzRdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdFx0XHR9XHJcblxyXG5cdCAgICAgICAgTW9ycmlzLkJhcih7XHJcblx0ICAgICAgICAgICAgZWxlbWVudDogJ21vcnJpcy1jb21tZXJjaWFsLWNoYXJ0JyxcclxuXHQgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG5cdCAgICAgICAgICAgIHhrZXk6ICdwZXJpb2QnLFxyXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ3ZhbHVlJ10sXHJcblx0ICAgICAgICAgICAgbGFiZWxzOiBbJ+uMgOykkeq1kO2GtSDrp4zsobHrj4QnXSxcclxuXHQgICAgICAgICAgICBwb2ludFNpemU6IDIsXHJcblx0ICAgICAgICAgICAgaGlkZUhvdmVyOiAnYXV0bycsXHJcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXHJcblx0ICAgICAgICB9KTtcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuZ2V0TGVpc3VyZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0UmVzaWRlbmNlU3ZjLmdldExlaXN1cmUoKVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YXMpIHtcclxuXHRcdFx0dmFyIHJlc2lkZW5jZV9kYXRhID0gZGF0YXMuZGF0YTtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVzaWRlbmNlX2RhdGEgZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XHJcblxyXG5cdFx0XHR2YXIgZGF0YSA9IFt7cGVyaW9kOiAn7JWE7KO867aI66eM7KGxJyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJ+u2iOunjOyhsScsdmFsdWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICfrs7TthrUnLHZhbHVlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAn66eM7KGxJyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJ+unpOyasOunjOyhsScsdmFsdWU6IDB9XTtcclxuXHJcblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgcmVzaWRlbmNlX2RhdGEubGVuZ3RoOyArK2kpIHtcclxuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjJcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiM1wiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzJdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbM10udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjVcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH1cclxuXHRcdFx0fVxyXG5cclxuXHQgICAgICAgIE1vcnJpcy5CYXIoe1xyXG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtbGVpc3VyZS1jaGFydCcsXHJcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuXHQgICAgICAgICAgICB4a2V5OiAncGVyaW9kJyxcclxuXHQgICAgICAgICAgICB5a2V5czogWyd2YWx1ZSddLFxyXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfrjIDspJHqtZDthrUg66eM7KGx64+EJ10sXHJcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxyXG5cdCAgICAgICAgICAgIGhpZGVIb3ZlcjogJ2F1dG8nLFxyXG5cdCAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZVxyXG5cdCAgICAgICAgfSk7XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmdldEdyZWVuID0gZnVuY3Rpb24oKSB7XHJcblx0XHRSZXNpZGVuY2VTdmMuZ2V0R3JlZW4oKVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YXMpIHtcclxuXHRcdFx0dmFyIHJlc2lkZW5jZV9kYXRhID0gZGF0YXMuZGF0YTtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygncmVzaWRlbmNlX2RhdGEgZGF0YTonICsgc2V4X2RhdGFbMF0uX2lkLnNleCk7XHJcblxyXG5cdFx0XHR2YXIgZGF0YSA9IFt7cGVyaW9kOiAn7JWE7KO867aI66eM7KGxJyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJ+u2iOunjOyhsScsdmFsdWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICfrs7TthrUnLHZhbHVlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAn66eM7KGxJyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJ+unpOyasOunjOyhsScsdmFsdWU6IDB9XTtcclxuXHJcblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgcmVzaWRlbmNlX2RhdGEubGVuZ3RoOyArK2kpIHtcclxuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjJcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiM1wiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzJdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbM10udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjVcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH1cclxuXHRcdFx0fVxyXG5cclxuXHQgICAgICAgIE1vcnJpcy5CYXIoe1xyXG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtZ3JlZW4tY2hhcnQnLFxyXG5cdCAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcblx0ICAgICAgICAgICAgeGtleTogJ3BlcmlvZCcsXHJcblx0ICAgICAgICAgICAgeWtleXM6IFsndmFsdWUnXSxcclxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn64W57KeAIOunjOyhseuPhCddLFxyXG5cdCAgICAgICAgICAgIHBvaW50U2l6ZTogMixcclxuXHQgICAgICAgICAgICBoaWRlSG92ZXI6ICdhdXRvJyxcclxuXHQgICAgICAgICAgICByZXNpemU6IHRydWVcclxuXHQgICAgICAgIH0pO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5nZXRBcmVhPSBmdW5jdGlvbigpIHtcclxuXHRcdFJlc2lkZW5jZVN2Yy5nZXRBcmVhKClcclxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XHJcblx0XHRcdHZhciByZXNpZGVuY2VfZGF0YSA9IGRhdGFzLmRhdGE7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ3Jlc2lkZW5jZV9kYXRhIGRhdGE6JyArIHNleF9kYXRhWzBdLl9pZC5zZXgpO1xyXG5cclxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJzQ5LjVtMuydtO2VmCcsdmFsdWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICc0OS41OH41OS40bTInLHZhbHVlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAnNTkuNX43OS4zMm0yJyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJzc5LjMzfjEwNS43OG0yJyx2YWx1ZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJzEwNS43OW0yficsdmFsdWU6IDB9XTtcclxuXHJcblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgcmVzaWRlbmNlX2RhdGEubGVuZ3RoOyArK2kpIHtcclxuXHRcdFx0XHRpZihyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCIxXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMF0udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjJcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVsxXS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzaWRlbmNlX2RhdGFbaV0uX2lkLnZhbHVlID09IFwiM1wiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzJdLnZhbHVlID0gcmVzaWRlbmNlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpZGVuY2VfZGF0YVtpXS5faWQudmFsdWUgPT0gXCI0XCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbM10udmFsdWUgPSByZXNpZGVuY2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc2lkZW5jZV9kYXRhW2ldLl9pZC52YWx1ZSA9PSBcIjVcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVs0XS52YWx1ZSA9IHJlc2lkZW5jZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH1cclxuXHRcdFx0fVxyXG5cclxuXHQgICAgICAgIE1vcnJpcy5CYXIoe1xyXG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtYXJlYS1jaGFydCcsXHJcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuXHQgICAgICAgICAgICB4a2V5OiAncGVyaW9kJyxcclxuXHQgICAgICAgICAgICB5a2V5czogWyd2YWx1ZSddLFxyXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfqsbDso7zrqbTsoIEnXSxcclxuXHQgICAgICAgICAgICBwb2ludFNpemU6IDIsXHJcblx0ICAgICAgICAgICAgaGlkZUhvdmVyOiAnYXV0bycsXHJcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXHJcblx0ICAgICAgICB9KTtcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuZ2V0VHJhZmZpYygpO1xyXG5cdCRzY29wZS5nZXRDb21tZXJjaWFsKCk7XHJcblx0JHNjb3BlLmdldExlaXN1cmUoKTtcclxuXHQkc2NvcGUuZ2V0R3JlZW4oKTtcclxuXHQkc2NvcGUuZ2V0QXJlYSgpO1xyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnUmVzaWRlbmNlU3ZjJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHR0aGlzLmdldFRyYWZmaWMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9hZG1pbi9nZXRSZXNpY2VuY2UvdHJhZmZpYycpO1xyXG5cdH1cclxuXHR0aGlzLmdldENvbW1lcmNpYWwgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9hZG1pbi9nZXRSZXNpY2VuY2UvY29tbWVyY2lhbCcpO1xyXG5cdH1cclxuXHR0aGlzLmdldExlaXN1cmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvbC9hZG1pbi9nZXRSZXNpY2VuY2UvbGVpc3VyZScpO1xyXG5cdH1cclxuXHR0aGlzLmdldEdyZWVuID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0UmVzaWNlbmNlL2dyZWVuJyk7XHJcblx0fVxyXG5cdHRoaXMuZ2V0QXJlYSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFJlc2ljZW5jZS9hcmVhJyk7XHJcblx0fVxyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbmZpZyggWyckcm91dGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uICgkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuXHQkcm91dGVQcm92aWRlclxyXG5cdC53aGVuKCcvJywge3RlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2FkbWluLmh0bWwnfSlcclxuXHQud2hlbignL3NvY2lhbCcsIHt0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9zb2NpYWwuaHRtbCd9KVxyXG5cdC53aGVuKCcvcmVzaWRlbmNlJywge3RlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3Jlc2lkZW5jZS5odG1sJ30pXHJcblx0XHJcblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKGZhbHNlKTtcclxuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XHJcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1NvY2lhbEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFNvY2lhbFN2Yyl7XHJcblx0XHJcblx0JHNjb3BlLmdldFNleCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0U29jaWFsU3ZjLmdldFNleCgpXHJcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xyXG5cdFx0XHR2YXIgc2V4X2RhdGEgPSBkYXRhcy5kYXRhO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnc2V4IGRhdGE6JyArIHNleF9kYXRhWzBdLl9pZC5zZXgpO1xyXG5cclxuXHRcdFx0dmFyIGRhdGEgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCBzZXhfZGF0YS5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRcdGlmKHNleF9kYXRhW2ldLl9pZC5zZXggPT0gMSkge1xyXG5cdFx0XHRcdFx0dmFyIG1hbGVfZGF0YSA9IHsgbGFiZWw6IFwi7Jes7J6QXCIsIGRhdGE6IHNleF9kYXRhW2ldLmNvdW50IH07XHJcblx0XHRcdFx0XHRkYXRhLnB1c2gobWFsZV9kYXRhKTtcclxuXHQgICAgICAgICAgICB9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dmFyIGZlbWFsZV9kYXRhID0geyBsYWJlbDogXCLrgqjsnpBcIiwgZGF0YTogc2V4X2RhdGFbaV0uY291bnQgfTtcclxuXHRcdFx0XHRcdGRhdGEucHVzaChmZW1hbGVfZGF0YSk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdFx0XHR9XHJcblxyXG5cdCAgICAgICAgdmFyIHBsb3RPYmogPSAkLnBsb3QoJChcIiNmbG90LXBpZS1jaGFydC1zZXhcIiksIGRhdGEsIHtcclxuXHQgICAgICAgICAgICBzZXJpZXM6IHtcclxuXHQgICAgICAgICAgICAgICAgcGllOiB7XHJcblx0ICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXHJcblx0ICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICAgIGdyaWQ6IHtcclxuXHQgICAgICAgICAgICAgICAgaG92ZXJhYmxlOiB0cnVlXHJcblx0ICAgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxyXG5cdCAgICAgICAgICAgIHRvb2x0aXBPcHRzOiB7XHJcblx0ICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiJXAuMCUsICVzXCIsIC8vIHNob3cgcGVyY2VudGFnZXMsIHJvdW5kaW5nIHRvIDIgZGVjaW1hbCBwbGFjZXNcclxuXHQgICAgICAgICAgICAgICAgc2hpZnRzOiB7XHJcblx0ICAgICAgICAgICAgICAgICAgICB4OiAyMCxcclxuXHQgICAgICAgICAgICAgICAgICAgIHk6IDBcclxuXHQgICAgICAgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgICAgICAgZGVmYXVsdFRoZW1lOiBmYWxzZVxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH0pO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5nZXREcml2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0U29jaWFsU3ZjLmdldERyaXZlKClcclxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XHJcblx0XHRcdHZhciBkcml2ZV9kYXRhID0gZGF0YXMuZGF0YTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2RyaXZlIGRhdGE6JyArIGRyaXZlX2RhdGFbMF0uX2lkLmRyaXZlX2xpY2Vuc2UpO1xyXG5cclxuXHRcdFx0dmFyIGRhdGEgPSBbeyBsYWJlbDogXCLsmrTsoITrqbTtl4gg7IaM7KeAXCIsIGRhdGE6IDAgfSwgeyBsYWJlbDogXCLsmrTsoITrqbTtl4gg66+47IaM7KeAXCIsIGRhdGE6IDAgfV07XHJcblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgZHJpdmVfZGF0YS5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRcdGlmKGRyaXZlX2RhdGFbaV0uX2lkLmRyaXZlX2xpY2Vuc2UgPT0gMSkge1xyXG5cdFx0XHRcdFx0ZGF0YVswXS5kYXRhID0gZHJpdmVfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZGF0YVsxXS5kYXRhID0gZHJpdmVfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9XHJcblx0XHRcdH1cclxuXHJcblx0ICAgICAgICB2YXIgcGxvdE9iaiA9ICQucGxvdCgkKFwiI2Zsb3QtcGllLWNoYXJ0LWRyaXZlXCIpLCBkYXRhLCB7XHJcblx0ICAgICAgICAgICAgc2VyaWVzOiB7XHJcblx0ICAgICAgICAgICAgICAgIHBpZToge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZVxyXG5cdCAgICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgICBncmlkOiB7XHJcblx0ICAgICAgICAgICAgICAgIGhvdmVyYWJsZTogdHJ1ZVxyXG5cdCAgICAgICAgICAgIH0sXHJcblx0ICAgICAgICAgICAgdG9vbHRpcDogdHJ1ZSxcclxuXHQgICAgICAgICAgICB0b29sdGlwT3B0czoge1xyXG5cdCAgICAgICAgICAgICAgICBjb250ZW50OiBcIiVwLjAlLCAlc1wiLCAvLyBzaG93IHBlcmNlbnRhZ2VzLCByb3VuZGluZyB0byAyIGRlY2ltYWwgcGxhY2VzXHJcblx0ICAgICAgICAgICAgICAgIHNoaWZ0czoge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgeDogMjAsXHJcblx0ICAgICAgICAgICAgICAgICAgICB5OiAwXHJcblx0ICAgICAgICAgICAgICAgIH0sXHJcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHRUaGVtZTogZmFsc2VcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9KTtcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuZ2V0QWdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRTb2NpYWxTdmMuZ2V0QWdlKClcclxuXHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGFzKSB7XHJcblx0XHRcdHZhciBhZ2VfZGF0YSA9IGRhdGFzLmRhdGE7XHJcblxyXG5cdFx0XHR2YXIgZGF0YSA9IFt7cGVyaW9kOiAnMC0xOScsYWdlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAnMjAtMjknLGFnZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJzMwLTM5JyxhZ2U6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICc0MC00OScsYWdlOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAnNTAtNTknLGFnZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJzYwLScsYWdlOiAwfV07XHJcblxyXG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IGFnZV9kYXRhLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdFx0aWYoYWdlX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMC0xOVwiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzBdLmFnZSA9IGFnZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoYWdlX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgMjAtMjlcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVsxXS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGFnZV9kYXRhW2ldLl9pZCA9PSBcInJhbmdlIDMwLTM5XCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMl0uYWdlID0gYWdlX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChhZ2VfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSA0MC00OVwiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzNdLmFnZSA9IGFnZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoYWdlX2RhdGFbaV0uX2lkID09IFwicmFuZ2UgNTAtNTlcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVs0XS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgICAgIFx0ZGF0YVs1XS5hZ2UgPSBhZ2VfZGF0YVtpXS5jb3VudDtcclxuXHQgICAgICAgICAgICB9XHJcblx0XHRcdH1cclxuXHJcblx0ICAgICAgICBNb3JyaXMuQmFyKHtcclxuXHQgICAgICAgICAgICBlbGVtZW50OiAnbW9ycmlzLWFnZS1jaGFydCcsXHJcblx0ICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuXHQgICAgICAgICAgICB4a2V5OiAncGVyaW9kJyxcclxuXHQgICAgICAgICAgICB5a2V5czogWydhZ2UnXSxcclxuXHQgICAgICAgICAgICBsYWJlbHM6IFsn7Jew66C564yAJ10sXHJcblx0ICAgICAgICAgICAgcG9pbnRTaXplOiAyLFxyXG5cdCAgICAgICAgICAgIGhpZGVIb3ZlcjogJ2F1dG8nLFxyXG5cdCAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZVxyXG5cdCAgICAgICAgfSk7XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmdldEluY29tZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0U29jaWFsU3ZjLmdldEluY29tZSgpXHJcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhcykge1xyXG5cdFx0XHR2YXIgaW5jb21lX2RhdGEgPSBkYXRhcy5kYXRhO1xyXG5cclxuXHRcdFx0dmFyIGRhdGEgPSBbe3BlcmlvZDogJ34x67Cx66eMJyxpbmNvbWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICcx67CxfjLrsLHrp4wnLGluY29tZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJzLrsLEtM+uwseunjCcsaW5jb21lOiAwfSxcclxuXHRcdFx0XHR7cGVyaW9kOiAnM+uwsS0167Cx66eMJyxpbmNvbWU6IDB9LFxyXG5cdFx0XHRcdHtwZXJpb2Q6ICc167CxLTHsspzrp4wnLGluY29tZTogMH0sXHJcblx0XHRcdFx0e3BlcmlvZDogJzHsspzrp4zsnbTsg4EnLGluY29tZTogMH1dO1xyXG5cclxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCBpbmNvbWVfZGF0YS5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRcdGlmKGluY29tZV9kYXRhW2ldLl9pZCA9PSBcInJhbmdlIDAtMTAwXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMF0uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNvbWVfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAxMDAtMjAwXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMV0uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNvbWVfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAyMDAtMzAwXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbMl0uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNvbWVfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSAzMDAtNTAwXCIpIHtcclxuXHRcdFx0XHRcdGRhdGFbM10uaW5jb21lID0gaW5jb21lX2RhdGFbaV0uY291bnQ7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNvbWVfZGF0YVtpXS5faWQgPT0gXCJyYW5nZSA1MDAtMTAwMFwiKSB7XHJcblx0XHRcdFx0XHRkYXRhWzRdLmluY29tZSA9IGluY29tZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgICAgXHRkYXRhWzVdLmluY29tZSA9IGluY29tZV9kYXRhW2ldLmNvdW50O1xyXG5cdCAgICAgICAgICAgIH1cclxuXHRcdFx0fVxyXG5cclxuXHQgICAgICAgIE1vcnJpcy5CYXIoe1xyXG5cdCAgICAgICAgICAgIGVsZW1lbnQ6ICdtb3JyaXMtaW5jb21lLWNoYXJ0JyxcclxuXHQgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG5cdCAgICAgICAgICAgIHhrZXk6ICdwZXJpb2QnLFxyXG5cdCAgICAgICAgICAgIHlrZXlzOiBbJ2luY29tZSddLFxyXG5cdCAgICAgICAgICAgIGxhYmVsczogWyfsiJjsnoUnXSxcclxuXHQgICAgICAgICAgICBwb2ludFNpemU6IDIsXHJcblx0ICAgICAgICAgICAgaGlkZUhvdmVyOiAnYXV0bycsXHJcblx0ICAgICAgICAgICAgcmVzaXplOiB0cnVlXHJcblx0ICAgICAgICB9KTtcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuZ2V0U2V4KCk7XHJcblx0JHNjb3BlLmdldERyaXZlKCk7XHJcblx0JHNjb3BlLmdldEFnZSgpO1xyXG5cdCRzY29wZS5nZXRJbmNvbWUoKSA7XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdTb2NpYWxTdmMnLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cdHRoaXMuZ2V0U2V4ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0U29jaWFsL3NleCcpO1xyXG5cdH1cclxuXHR0aGlzLmdldERyaXZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0U29jaWFsL2RyaXZlJyk7XHJcblx0fVxyXG5cdHRoaXMuZ2V0QWdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2wvYWRtaW4vZ2V0U29jaWFsL2FnZScpO1xyXG5cdH1cclxuXHR0aGlzLmdldEluY29tZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9sL2FkbWluL2dldFNvY2lhbC9pbmNvbWUnKTtcclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignVXNlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMpe1xyXG5cdCRzY29wZS5lZGl0ID0gZmFsc2U7XHJcblx0JHNjb3BlLmRlbGV0ZUlkO1xyXG5cdFxyXG5cdFVzZXJTdmMuZmV0Y2goKVxyXG5cdC5zdWNjZXNzKGZ1bmN0aW9uKHVzZXJzKSB7XHJcblx0XHQkc2NvcGUudXNlcnMgPSB1c2VycztcclxuXHR9KVxyXG5cclxuXHQkc2NvcGUuc2F2ZVVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZigkc2NvcGUuZWRpdCkgeyAgLy/siJjsoJVcclxuXHRcdFx0VXNlclN2Yy5tb2RpZnkoeyBfaWQ6ICRzY29wZS5pZCwgIG5hbWU6ICRzY29wZS5uYW1lLCBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkIH0pXHJcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHJlZnJlc2hVcGRhdGUoJHNjb3BlLmlkKTtcclxuXHRcdFx0XHQkc2NvcGUuaWQgPSBudWxsO1xyXG5cdFx0XHRcdCRzY29wZS5uYW1lID0gbnVsbDtcclxuXHRcdFx0XHQkc2NvcGUucGFzc3dvcmQgPW51bGw7XHJcblx0XHRcdFx0JHNjb3BlLmVkaXQgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2UgeyAvL+yDneyEsVxyXG5cdFx0XHRVc2VyU3ZjLmNyZWF0ZSh7IF9pZDogJHNjb3BlLmlkLCAgbmFtZTogJHNjb3BlLm5hbWUsIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmQgfSlcclxuXHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24odXNlcil7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzLnVuc2hpZnQodXNlcik7XHJcblx0XHRcdFx0JHNjb3BlLmlkID0gbnVsbDtcclxuXHRcdFx0XHQkc2NvcGUubmFtZSA9IG51bGw7XHJcblx0XHRcdFx0JHNjb3BlLnBhc3N3b3JkID1udWxsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHRcclxuXHQkc2NvcGUuZWRpdFVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHQkc2NvcGUuZWRpdCA9IHRydWU7XHJcblx0XHQkc2NvcGUuaWQgPSB1c2VyLl9pZDtcclxuXHRcdCRzY29wZS5uYW1lID0gdXNlci5uYW1lO1xyXG5cdFx0JHNjb3BlLnBhc3N3b3JkID11c2VyLnBhc3N3b3JkO1xyXG5cdH1cclxuXHRcclxuXHQkc2NvcGUuZGVsZXRlQ29uZmlybSA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdGNvbnNvbGUubG9nKCd1c2VySWQ6JyArIHVzZXIuX2lkKTtcclxuXHRcdCRzY29wZS5kZWxldGVJZCA9IHVzZXIuX2lkO1xyXG5cdFx0JChcIiNkaWFsb2dEZWxldGVcIikubW9kYWwoJ3Nob3cnKTtcclxuXHR9XHJcblx0XHJcblx0JHNjb3BlLmRlbGV0ZVVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdCQoXCIjZGlhbG9nRGVsZXRlXCIpLm1vZGFsKCdoaWRlJyk7XHJcblx0XHRVc2VyU3ZjLnJlbW92ZSh7X2lkOiAkc2NvcGUuZGVsZXRlSWR9KVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdHJlZnJlc2hEZWxldGUoJHNjb3BlLmRlbGV0ZUlkKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZWZyZXNoVXBkYXRlKHVzZXJJZCkge1xyXG5cdFx0Zm9yKHZhciBpPTA7IGkgPCAkc2NvcGUudXNlcnMubGVuZ3RoIDsgKytpKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd1c2VyOicgKyAkc2NvcGUudXNlcnNbaV0uX2lkKTtcclxuXHRcdFx0aWYgKHVzZXJJZCA9PSAkc2NvcGUudXNlcnNbaV0uX2lkKSB7XHJcblx0XHRcdFx0JHNjb3BlLnVzZXJzW2ldLm5hbWUgPSAkc2NvcGUubmFtZTtcclxuXHRcdFx0XHQkc2NvcGUudXNlcnNbaV0ucGFzc3dvcmQgPSAkc2NvcGUucGFzc3dvcmQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVmcmVzaERlbGV0ZSh1c2VySWQpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdkZWxldGUgdXNlcklkOicgKyB1c2VySWQpO1xyXG5cdFx0Zm9yKHZhciBpPTA7IGkgPCAkc2NvcGUudXNlcnMubGVuZ3RoIDsgKytpKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd1c2VyOicgKyAkc2NvcGUudXNlcnNbaV0uX2lkKTtcclxuXHRcdFx0aWYgKHVzZXJJZCA9PSAkc2NvcGUudXNlcnNbaV0uX2lkKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2RlbGV0ZWQnKTtcclxuXHRcdFx0XHQkc2NvcGUudXNlcnMuc3BsaWNlKGksIDEpOyAvL2nrsojsp7jrtoDthLAg7ZWt66qp7J2EIDHqsJwg7IKt7KCcXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbigkaHR0cCkge1xuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9nZXRMaXN0Jyk7XG5cdH1cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbih1c2VyKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9hZGQnLCB1c2VyKTtcblx0fVxuXHR0aGlzLm1vZGlmeSA9IGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VyL21vZGlmeScsIHVzZXIpO1xuXHR9XG5cdHRoaXMucmVtb3ZlID0gZnVuY3Rpb24odXNlcikge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXIvcmVtb3ZlJywgdXNlcik7XG5cdH1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==